{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/client.ts"],"sourcesContent":["import { JobListingApplicationTable, JobListingTable } from \"@/drizzle/schema\"\r\nimport {\r\n  DeletedObjectJSON,\r\n  OrganizationJSON,\r\n  OrganizationMembershipJSON,\r\n  UserJSON,\r\n} from \"@clerk/nextjs/server\"\r\nimport { EventSchemas, Inngest } from \"inngest\"\r\n\r\ntype ClerkWebhookData<T> = {\r\n  data: {\r\n    data: T\r\n    raw: string\r\n    headers: Record<string, string>\r\n  }\r\n}\r\n\r\n//webhooks for clerk\r\ntype Events = {\r\n  \"clerk/user.created\": ClerkWebhookData<UserJSON>\r\n  \"clerk/user.updated\": ClerkWebhookData<UserJSON>\r\n  \"clerk/user.deleted\": ClerkWebhookData<DeletedObjectJSON>\r\n  \"clerk/organization.created\": ClerkWebhookData<OrganizationJSON>\r\n  \"clerk/organization.updated\": ClerkWebhookData<OrganizationJSON>\r\n  \"clerk/organization.deleted\": ClerkWebhookData<DeletedObjectJSON>\r\n  \"clerk/organizationMembership.created\": ClerkWebhookData<OrganizationMembershipJSON>\r\n  \"clerk/organizationMembership.deleted\": ClerkWebhookData<OrganizationMembershipJSON>\r\n  \"app/jobListingApplication.created\": {\r\n    data: {\r\n      jobListingId: string\r\n      userId: string\r\n    }\r\n  }\r\n  \"app/resume.uploaded\": {\r\n    user: {\r\n      id: string\r\n    }\r\n  }\r\n  \"app/email.daily-user-job-listings\": {\r\n    data: {\r\n      aiPrompt?: string\r\n      jobListings: (Omit<\r\n        typeof JobListingTable.$inferSelect,\r\n        \"createdAt\" | \"postedAt\" | \"updatedAt\" | \"status\" | \"organizationId\"\r\n      > & { organizationName: string })[]\r\n    }\r\n    user: {\r\n      email: string\r\n      name: string\r\n    }\r\n  }\r\n  \"app/email.daily-organization-user-applications\": {\r\n    data: {\r\n      applications: (Pick<\r\n        typeof JobListingApplicationTable.$inferSelect,\r\n        \"rating\"\r\n      > & {\r\n        userName: string\r\n        organizationId: string\r\n        organizationName: string\r\n        jobListingId: string\r\n        jobListingTitle: string\r\n      })[]\r\n    }\r\n    user: {\r\n      email: string\r\n      name: string\r\n    }\r\n  }\r\n}\r\n\r\nexport const inngest = new Inngest({\r\n  id: \"job-board-wds\",\r\n  schemas: new EventSchemas().fromRecord<Events>(),\r\n})\r\n"],"names":[],"mappings":";;;AAOA;;AAgEO,MAAM,UAAU,IAAI,kIAAA,CAAA,UAAO,CAAC;IACjC,IAAI;IACJ,SAAS,IAAI,kIAAA,CAAA,eAAY,GAAG,UAAU;AACxC","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/data/env/server.ts"],"sourcesContent":["import { createEnv } from \"@t3-oss/env-nextjs\"\r\nimport { z } from \"zod\"\r\n\r\nexport const env = createEnv({\r\n  server: {\r\n    DB_PASSWORD: z.string().min(1),\r\n    DB_USER: z.string().min(1),\r\n    DB_HOST: z.string().min(1),\r\n    DB_PORT: z.string().min(1),\r\n    DB_NAME: z.string().min(1),\r\n    CLERK_SECRET_KEY: z.string().min(1),\r\n    CLERK_WEBHOOK_SECRET: z.string().min(1),\r\n    UPLOADTHING_TOKEN: z.string().min(1),\r\n    ANTHROPIC_API_KEY: z.string().min(1),\r\n    GEMINI_API_KEY: z.string().min(1),\r\n    QWEN_API_KEY: z.string().min(1),\r\n    RESEND_API_KEY: z.string().min(1),\r\n    SERVER_URL: z.string().optional(),\r\n  },\r\n  createFinalSchema: env => {\r\n    return z.object(env).transform(val => {\r\n      const { DB_HOST, DB_NAME, DB_PASSWORD, DB_PORT, DB_USER, ...rest } = val\r\n\r\n      return {\r\n        ...rest,\r\n        DATABASE_URL: `postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}`,\r\n      }\r\n    })\r\n  },\r\n  emptyStringAsUndefined: true,\r\n  experimental__runtimeEnv: process.env,\r\n})\r\n\r\n// Configure global proxy settings if available\r\nif (typeof process !== 'undefined' && process.env.HTTPS_PROXY) {\r\n  console.log(`Setting global proxy: ${process.env.HTTPS_PROXY}`);\r\n  \r\n  // These environment variables are automatically picked up by Node.js fetch\r\n  process.env.NODE_TLS_REJECT_UNAUTHORIZED = '0'; // Only use in development!\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;;;AAEO,MAAM,MAAM,CAAA,GAAA,+JAAA,CAAA,YAAS,AAAD,EAAE;IAC3B,QAAQ;QACN,aAAa,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC5B,SAAS,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACxB,SAAS,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACxB,SAAS,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACxB,SAAS,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACxB,kBAAkB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACjC,sBAAsB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACrC,mBAAmB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,mBAAmB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,gBAAgB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC/B,cAAc,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,gBAAgB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC/B,YAAY,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACjC;IACA,mBAAmB,CAAA;QACjB,OAAO,mLAAA,CAAA,IAAC,CAAC,MAAM,CAAC,KAAK,SAAS,CAAC,CAAA;YAC7B,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG;YAErE,OAAO;gBACL,GAAG,IAAI;gBACP,cAAc,CAAC,WAAW,EAAE,QAAQ,CAAC,EAAE,YAAY,CAAC,EAAE,QAAQ,CAAC,EAAE,QAAQ,CAAC,EAAE,SAAS;YACvF;QACF;IACF;IACA,wBAAwB;IACxB,0BAA0B,QAAQ,GAAG;AACvC;AAEA,+CAA+C;AAC/C,IAAI,OAAO,YAAY,eAAe,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC7D,QAAQ,GAAG,CAAC,CAAC,sBAAsB,EAAE,QAAQ,GAAG,CAAC,WAAW,EAAE;IAE9D,2EAA2E;IAC3E,QAAQ,GAAG,CAAC,4BAA4B,GAAG,KAAK,2BAA2B;AAC7E","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schemaHelpers.ts"],"sourcesContent":["import { timestamp, uuid } from \"drizzle-orm/pg-core\"\r\n\r\nexport const id = uuid().primaryKey().defaultRandom()\r\nexport const createdAt = timestamp({ withTimezone: true })\r\n  .notNull()\r\n  .defaultNow()\r\nexport const updatedAt = timestamp({ withTimezone: true })\r\n  .notNull()\r\n  .defaultNow()\r\n  .$onUpdate(() => new Date())\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;AAEO,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,IAAI,UAAU,GAAG,aAAa;AAC5C,MAAM,YAAY,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;IAAE,cAAc;AAAK,GACrD,OAAO,GACP,UAAU;AACN,MAAM,YAAY,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;IAAE,cAAc;AAAK,GACrD,OAAO,GACP,UAAU,GACV,SAAS,CAAC,IAAM,IAAI","debugId":null}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/userResume.ts"],"sourcesContent":["import { pgTable, varchar } from \"drizzle-orm/pg-core\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { UserTable } from \"./user\"\r\nimport { relations } from \"drizzle-orm\"\r\n\r\nexport const UserResumeTable = pgTable(\"user_resumes\", {\r\n  userId: varchar()\r\n    .primaryKey()\r\n    .references(() => UserTable.id),\r\n  resumeFileUrl: varchar().notNull(),\r\n  resumeFileKey: varchar().notNull(),\r\n  aiSummary: varchar(),\r\n  createdAt,\r\n  updatedAt,\r\n})\r\n\r\nexport const userResumeRelations = relations(UserResumeTable, ({ one }) => ({\r\n  user: one(UserTable, {\r\n    fields: [UserResumeTable.userId],\r\n    references: [UserTable.id],\r\n  }),\r\n}))\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,kBAAkB,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EAAE,gBAAgB;IACrD,QAAQ,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACX,UAAU,GACV,UAAU,CAAC,IAAM,kIAAA,CAAA,YAAS,CAAC,EAAE;IAChC,eAAe,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IAChC,eAAe,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IAChC,WAAW,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACjB,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX;AAEO,MAAM,sBAAsB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAAE,iBAAiB,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QAC1E,MAAM,IAAI,kIAAA,CAAA,YAAS,EAAE;YACnB,QAAQ;gBAAC,gBAAgB,MAAM;aAAC;YAChC,YAAY;gBAAC,kIAAA,CAAA,YAAS,CAAC,EAAE;aAAC;QAC5B;IACF,CAAC","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/userNotificationSettings.ts"],"sourcesContent":["import { boolean, pgTable, varchar } from \"drizzle-orm/pg-core\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { UserTable } from \"./user\"\r\nimport { relations } from \"drizzle-orm\"\r\n\r\nexport const UserNotificationSettingsTable = pgTable(\r\n  \"user_notification_settings\",\r\n  {\r\n    userId: varchar()\r\n      .primaryKey()\r\n      .references(() => UserTable.id),\r\n    newJobEmailNotifications: boolean().notNull().default(false),\r\n    aiPrompt: varchar(),\r\n    createdAt,\r\n    updatedAt,\r\n  }\r\n)\r\n\r\nexport const userNotificationSettingsRelations = relations(\r\n  UserNotificationSettingsTable,\r\n  ({ one }) => ({\r\n    user: one(UserTable, {\r\n      fields: [UserNotificationSettingsTable.userId],\r\n      references: [UserTable.id],\r\n    }),\r\n  })\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,gCAAgC,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EACjD,8BACA;IACE,QAAQ,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACX,UAAU,GACV,UAAU,CAAC,IAAM,kIAAA,CAAA,YAAS,CAAC,EAAE;IAChC,0BAA0B,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO,GAAG,OAAO,CAAC;IACtD,UAAU,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IAChB,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX;AAGK,MAAM,oCAAoC,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EACvD,+BACA,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACZ,MAAM,IAAI,kIAAA,CAAA,YAAS,EAAE;YACnB,QAAQ;gBAAC,8BAA8B,MAAM;aAAC;YAC9C,YAAY;gBAAC,kIAAA,CAAA,YAAS,CAAC,EAAE;aAAC;QAC5B;IACF,CAAC","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/jobListingApplication.ts"],"sourcesContent":["import {\r\n  integer,\r\n  pgEnum,\r\n  pgTable,\r\n  primaryKey,\r\n  text,\r\n  uuid,\r\n  varchar,\r\n} from \"drizzle-orm/pg-core\"\r\nimport { JobListingTable } from \"./jobListing\"\r\nimport { UserTable } from \"./user\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { relations } from \"drizzle-orm\"\r\n\r\nexport const applicationStages = [\r\n  \"denied\",\r\n  \"applied\",\r\n  \"interested\",\r\n  \"interviewed\",\r\n  \"hired\",\r\n] as const\r\nexport type ApplicationStage = (typeof applicationStages)[number]\r\nexport const applicationStageEnum = pgEnum(\r\n  \"job_listing_applications_stage\",\r\n  applicationStages\r\n)\r\n\r\nexport const JobListingApplicationTable = pgTable(\r\n  \"job_listing_applications\",\r\n  {\r\n    jobListingId: uuid()\r\n      .references(() => JobListingTable.id, { onDelete: \"cascade\" })\r\n      .notNull(),\r\n    userId: varchar()\r\n      .references(() => UserTable.id, { onDelete: \"cascade\" })\r\n      .notNull(),\r\n    coverLetter: text(),\r\n    rating: integer(),\r\n    stage: applicationStageEnum().notNull().default(\"applied\"),\r\n    createdAt,\r\n    updatedAt,\r\n  },\r\n  table => [primaryKey({ columns: [table.jobListingId, table.userId] })]\r\n)\r\n\r\nexport const jobListingApplicationRelations = relations(\r\n  JobListingApplicationTable,\r\n  ({ one }) => ({\r\n    jobListing: one(JobListingTable, {\r\n      fields: [JobListingApplicationTable.jobListingId],\r\n      references: [JobListingTable.id],\r\n    }),\r\n    user: one(UserTable, {\r\n      fields: [JobListingApplicationTable.userId],\r\n      references: [UserTable.id],\r\n    }),\r\n  })\r\n)\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;;;;;;AAEO,MAAM,oBAAoB;IAC/B;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,uBAAuB,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EACvC,kCACA;AAGK,MAAM,6BAA6B,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EAC9C,4BACA;IACE,cAAc,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,IACd,UAAU,CAAC,IAAM,wIAAA,CAAA,kBAAe,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU,GAC3D,OAAO;IACV,QAAQ,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACX,UAAU,CAAC,IAAM,kIAAA,CAAA,YAAS,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU,GACrD,OAAO;IACV,aAAa,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD;IAChB,QAAQ,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACd,OAAO,uBAAuB,OAAO,GAAG,OAAO,CAAC;IAChD,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX,GACA,CAAA,QAAS;QAAC,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE;YAAE,SAAS;gBAAC,MAAM,YAAY;gBAAE,MAAM,MAAM;aAAC;QAAC;KAAG;AAGjE,MAAM,iCAAiC,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EACpD,4BACA,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACZ,YAAY,IAAI,wIAAA,CAAA,kBAAe,EAAE;YAC/B,QAAQ;gBAAC,2BAA2B,YAAY;aAAC;YACjD,YAAY;gBAAC,wIAAA,CAAA,kBAAe,CAAC,EAAE;aAAC;QAClC;QACA,MAAM,IAAI,kIAAA,CAAA,YAAS,EAAE;YACnB,QAAQ;gBAAC,2BAA2B,MAAM;aAAC;YAC3C,YAAY;gBAAC,kIAAA,CAAA,YAAS,CAAC,EAAE;aAAC;QAC5B;IACF,CAAC","debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/jobListing.ts"],"sourcesContent":["import {\r\n  integer,\r\n  pgEnum,\r\n  pgTable,\r\n  text,\r\n  varchar,\r\n  boolean,\r\n  timestamp,\r\n  index,\r\n} from \"drizzle-orm/pg-core\"\r\nimport { createdAt, id, updatedAt } from \"../schemaHelpers\"\r\nimport { OrganizationTable } from \"./organization\"\r\nimport { relations } from \"drizzle-orm\"\r\nimport { JobListingApplicationTable } from \"./jobListingApplication\"\r\n\r\nexport const wageIntervals = [\"hourly\", \"yearly\"] as const\r\nexport type WageInterval = (typeof wageIntervals)[number]\r\nexport const wageIntervalEnum = pgEnum(\r\n  \"job_listings_wage_interval\",\r\n  wageIntervals\r\n)\r\n\r\nexport const locationRequirements = [\"in-office\", \"hybrid\", \"remote\"] as const\r\nexport type LocationRequirement = (typeof locationRequirements)[number]\r\nexport const locationRequirementEnum = pgEnum(\r\n  \"job_listings_location_requirement\",\r\n  locationRequirements\r\n)\r\n\r\nexport const experienceLevels = [\"junior\", \"mid-level\", \"senior\"] as const\r\nexport type ExperienceLevel = (typeof experienceLevels)[number]\r\nexport const experienceLevelEnum = pgEnum(\r\n  \"job_listings_experience_level\",\r\n  experienceLevels\r\n)\r\n\r\nexport const jobListingStatuses = [\"draft\", \"published\", \"delisted\"] as const\r\nexport type JobListingStatus = (typeof jobListingStatuses)[number]\r\nexport const jobListingStatusEnum = pgEnum(\r\n  \"job_listings_status\",\r\n  jobListingStatuses\r\n)\r\n\r\nexport const jobListingTypes = [\"internship\", \"part-time\", \"full-time\"] as const\r\nexport type JobListingType = (typeof jobListingTypes)[number]\r\nexport const jobListingTypeEnum = pgEnum(\"job_listings_type\", jobListingTypes)\r\n\r\nexport const JobListingTable = pgTable(\r\n  \"job_listings\",\r\n  {\r\n    id,\r\n    organizationId: varchar()\r\n      .references(() => OrganizationTable.id, { onDelete: \"cascade\" })\r\n      .notNull(),\r\n    title: varchar().notNull(),\r\n    description: text().notNull(),\r\n    wage: integer(),\r\n    wageInterval: wageIntervalEnum(),\r\n    stateAbbreviation: varchar(),\r\n    city: varchar(),\r\n    isFeatured: boolean().notNull().default(false),\r\n    locationRequirement: locationRequirementEnum().notNull(),\r\n    experienceLevel: experienceLevelEnum().notNull(),\r\n    status: jobListingStatusEnum().notNull().default(\"draft\"),\r\n    type: jobListingTypeEnum().notNull(),\r\n    postedAt: timestamp({ withTimezone: true }),\r\n    createdAt,\r\n    updatedAt,\r\n  },\r\n  table => [index().on(table.stateAbbreviation)]\r\n)\r\n\r\nexport const jobListingReferences = relations(\r\n  JobListingTable,\r\n  ({ one, many }) => ({\r\n    organization: one(OrganizationTable, {\r\n      fields: [JobListingTable.organizationId],\r\n      references: [OrganizationTable.id],\r\n    }),\r\n    applications: many(JobListingApplicationTable),\r\n  })\r\n)\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;;;;;;AAEO,MAAM,gBAAgB;IAAC;IAAU;CAAS;AAE1C,MAAM,mBAAmB,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EACnC,8BACA;AAGK,MAAM,uBAAuB;IAAC;IAAa;IAAU;CAAS;AAE9D,MAAM,0BAA0B,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAC1C,qCACA;AAGK,MAAM,mBAAmB;IAAC;IAAU;IAAa;CAAS;AAE1D,MAAM,sBAAsB,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EACtC,iCACA;AAGK,MAAM,qBAAqB;IAAC;IAAS;IAAa;CAAW;AAE7D,MAAM,uBAAuB,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EACvC,uBACA;AAGK,MAAM,kBAAkB;IAAC;IAAc;IAAa;CAAY;AAEhE,MAAM,qBAAqB,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE,qBAAqB;AAEvD,MAAM,kBAAkB,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EACnC,gBACA;IACE,IAAA,iIAAA,CAAA,KAAE;IACF,gBAAgB,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACnB,UAAU,CAAC,IAAM,0IAAA,CAAA,oBAAiB,CAAC,EAAE,EAAE;QAAE,UAAU;IAAU,GAC7D,OAAO;IACV,OAAO,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IACxB,aAAa,CAAA,GAAA,iKAAA,CAAA,OAAI,AAAD,IAAI,OAAO;IAC3B,MAAM,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACZ,cAAc;IACd,mBAAmB,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACzB,MAAM,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACZ,YAAY,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO,GAAG,OAAO,CAAC;IACxC,qBAAqB,0BAA0B,OAAO;IACtD,iBAAiB,sBAAsB,OAAO;IAC9C,QAAQ,uBAAuB,OAAO,GAAG,OAAO,CAAC;IACjD,MAAM,qBAAqB,OAAO;IAClC,UAAU,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;QAAE,cAAc;IAAK;IACzC,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX,GACA,CAAA,QAAS;QAAC,CAAA,GAAA,yJAAA,CAAA,QAAK,AAAD,IAAI,EAAE,CAAC,MAAM,iBAAiB;KAAE;AAGzC,MAAM,uBAAuB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAC1C,iBACA,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAK,CAAC;QAClB,cAAc,IAAI,0IAAA,CAAA,oBAAiB,EAAE;YACnC,QAAQ;gBAAC,gBAAgB,cAAc;aAAC;YACxC,YAAY;gBAAC,0IAAA,CAAA,oBAAiB,CAAC,EAAE;aAAC;QACpC;QACA,cAAc,KAAK,mJAAA,CAAA,6BAA0B;IAC/C,CAAC","debugId":null}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/organization.ts"],"sourcesContent":["import { pgTable, varchar } from \"drizzle-orm/pg-core\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { relations } from \"drizzle-orm\"\r\nimport { JobListingTable } from \"./jobListing\"\r\nimport { OrganizationUserSettingsTable } from \"./organizationUserSettings\"\r\n\r\nexport const OrganizationTable = pgTable(\"organizations\", {\r\n  id: varchar().primaryKey(),\r\n  name: varchar().notNull(),\r\n  imageUrl: varchar(),\r\n  createdAt,\r\n  updatedAt,\r\n})\r\n\r\nexport const organizationRelations = relations(\r\n  OrganizationTable,\r\n  ({ many }) => ({\r\n    jobListings: many(JobListingTable),\r\n    organizationUserSettings: many(OrganizationUserSettingsTable),\r\n  })\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,oBAAoB,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EAAE,iBAAiB;IACxD,IAAI,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,UAAU;IACxB,MAAM,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IACvB,UAAU,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IAChB,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX;AAEO,MAAM,wBAAwB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAC3C,mBACA,CAAC,EAAE,IAAI,EAAE,GAAK,CAAC;QACb,aAAa,KAAK,wIAAA,CAAA,kBAAe;QACjC,0BAA0B,KAAK,sJAAA,CAAA,gCAA6B;IAC9D,CAAC","debugId":null}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/organizationUserSettings.ts"],"sourcesContent":["import {\r\n  boolean,\r\n  integer,\r\n  pgTable,\r\n  primaryKey,\r\n  varchar,\r\n} from \"drizzle-orm/pg-core\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { UserTable } from \"./user\"\r\nimport { OrganizationTable } from \"./organization\"\r\nimport { relations } from \"drizzle-orm\"\r\n\r\nexport const OrganizationUserSettingsTable = pgTable(\r\n  \"organization_user_settings\",\r\n  {\r\n    userId: varchar()\r\n      .notNull()\r\n      .references(() => UserTable.id),\r\n    organizationId: varchar()\r\n      .notNull()\r\n      .references(() => OrganizationTable.id),\r\n    newApplicationEmailNotifications: boolean().notNull().default(false),\r\n    minimumRating: integer(),\r\n    createdAt,\r\n    updatedAt,\r\n  },\r\n  table => [primaryKey({ columns: [table.userId, table.organizationId] })]\r\n)\r\n\r\nexport const organizationUserSettingsRelations = relations(\r\n  OrganizationUserSettingsTable,\r\n  ({ one }) => ({\r\n    user: one(UserTable, {\r\n      fields: [OrganizationUserSettingsTable.userId],\r\n      references: [UserTable.id],\r\n    }),\r\n    organization: one(OrganizationTable, {\r\n      fields: [OrganizationUserSettingsTable.userId],\r\n      references: [OrganizationTable.id],\r\n    }),\r\n  })\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;;;;;;AAEO,MAAM,gCAAgC,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EACjD,8BACA;IACE,QAAQ,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACX,OAAO,GACP,UAAU,CAAC,IAAM,kIAAA,CAAA,YAAS,CAAC,EAAE;IAChC,gBAAgB,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IACnB,OAAO,GACP,UAAU,CAAC,IAAM,0IAAA,CAAA,oBAAiB,CAAC,EAAE;IACxC,kCAAkC,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO,GAAG,OAAO,CAAC;IAC9D,eAAe,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD;IACrB,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX,GACA,CAAA,QAAS;QAAC,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE;YAAE,SAAS;gBAAC,MAAM,MAAM;gBAAE,MAAM,cAAc;aAAC;QAAC;KAAG;AAGnE,MAAM,oCAAoC,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EACvD,+BACA,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACZ,MAAM,IAAI,kIAAA,CAAA,YAAS,EAAE;YACnB,QAAQ;gBAAC,8BAA8B,MAAM;aAAC;YAC9C,YAAY;gBAAC,kIAAA,CAAA,YAAS,CAAC,EAAE;aAAC;QAC5B;QACA,cAAc,IAAI,0IAAA,CAAA,oBAAiB,EAAE;YACnC,QAAQ;gBAAC,8BAA8B,MAAM;aAAC;YAC9C,YAAY;gBAAC,0IAAA,CAAA,oBAAiB,CAAC,EAAE;aAAC;QACpC;IACF,CAAC","debugId":null}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema/user.ts"],"sourcesContent":["import { pgTable, varchar } from \"drizzle-orm/pg-core\"\r\nimport { createdAt, updatedAt } from \"../schemaHelpers\"\r\nimport { relations } from \"drizzle-orm\"\r\nimport { UserResumeTable } from \"./userResume\"\r\nimport { UserNotificationSettingsTable } from \"./userNotificationSettings\"\r\nimport { OrganizationUserSettingsTable } from \"./organizationUserSettings\"\r\n\r\nexport const UserTable = pgTable(\"users\", {\r\n  id: varchar().primaryKey(),\r\n  name: varchar().notNull(),\r\n  imageUrl: varchar().notNull(),\r\n  email: varchar().notNull().unique(),\r\n  createdAt,\r\n  updatedAt,\r\n})\r\n\r\nexport const userRelations = relations(UserTable, ({ one, many }) => ({\r\n  notificationSettings: one(UserNotificationSettingsTable),\r\n  resume: one(UserResumeTable),\r\n  organizationUserSettings: many(OrganizationUserSettingsTable),\r\n}))\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,YAAY,CAAA,GAAA,uJAAA,CAAA,UAAO,AAAD,EAAE,SAAS;IACxC,IAAI,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,UAAU;IACxB,MAAM,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IACvB,UAAU,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO;IAC3B,OAAO,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,IAAI,OAAO,GAAG,MAAM;IACjC,WAAA,iIAAA,CAAA,YAAS;IACT,WAAA,iIAAA,CAAA,YAAS;AACX;AAEO,MAAM,gBAAgB,CAAA,GAAA,6IAAA,CAAA,YAAS,AAAD,EAAE,WAAW,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAK,CAAC;QACpE,sBAAsB,IAAI,sJAAA,CAAA,gCAA6B;QACvD,QAAQ,IAAI,wIAAA,CAAA,kBAAe;QAC3B,0BAA0B,KAAK,sJAAA,CAAA,gCAA6B;IAC9D,CAAC","debugId":null}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/schema.ts"],"sourcesContent":["export * from \"@/drizzle/schema/user\"\r\nexport * from \"./schema/organization\"\r\nexport * from \"./schema/jobListing\"\r\nexport * from \"./schema/userResume\"\r\nexport * from \"./schema/userNotificationSettings\"\r\nexport * from \"./schema/jobListingApplication\"\r\nexport * from \"./schema/organizationUserSettings\"\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/drizzle/db.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport { drizzle } from \"drizzle-orm/node-postgres\"\r\nimport * as schema from \"@/drizzle/schema\"\r\n\r\nexport const db = drizzle(env.DATABASE_URL, { schema })\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAAA;;;;;;;;AAEO,MAAM,KAAK,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,YAAY,EAAE;IAAE,QAAA;AAAO","debugId":null}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/lib/dataCache.ts"],"sourcesContent":["type CacheTag =\r\n  | \"users\"\r\n  | \"organizations\"\r\n  | \"jobListings\"\r\n  | \"userNotificationSettings\"\r\n  | \"userResumes\"\r\n  | \"jobListingApplications\"\r\n  | \"organizationUserSettings\"\r\n\r\nexport function getGlobalTag(tag: CacheTag) {\r\n  return `global:${tag}` as const\r\n}\r\n\r\nexport function getJobListingTag(tag: CacheTag, jobListingId: string) {\r\n  return `jobListing:${jobListingId}-${tag}` as const\r\n}\r\n\r\nexport function getOrganizationTag(tag: CacheTag, organizationId: string) {\r\n  return `organization:${organizationId}-${tag}` as const\r\n}\r\n\r\nexport function getIdTag(tag: CacheTag, id: string) {\r\n  return `id:${id}-${tag}` as const\r\n}\r\n"],"names":[],"mappings":";;;;;;AASO,SAAS,aAAa,GAAa;IACxC,OAAO,CAAC,OAAO,EAAE,KAAK;AACxB;AAEO,SAAS,iBAAiB,GAAa,EAAE,YAAoB;IAClE,OAAO,CAAC,WAAW,EAAE,aAAa,CAAC,EAAE,KAAK;AAC5C;AAEO,SAAS,mBAAmB,GAAa,EAAE,cAAsB;IACtE,OAAO,CAAC,aAAa,EAAE,eAAe,CAAC,EAAE,KAAK;AAChD;AAEO,SAAS,SAAS,GAAa,EAAE,EAAU;IAChD,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,KAAK;AAC1B","debugId":null}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/cache/users.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getUserGlobalTag() {\r\n  return getGlobalTag(\"users\")\r\n}\r\n\r\nexport function getUserIdTag(id: string) {\r\n  return getIdTag(\"users\", id)\r\n}\r\n\r\nexport function revalidateUserCache(id: string) {\r\n  revalidateTag(getUserGlobalTag())\r\n  revalidateTag(getUserIdTag(id))\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,aAAa,EAAU;IACrC,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,SAAS;AAC3B;AAEO,SAAS,oBAAoB,EAAU;IAC5C,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,aAAa;AAC7B","debugId":null}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/users.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { UserTable } from \"@/drizzle/schema\"\r\nimport { eq } from \"drizzle-orm\"\r\nimport { revalidateUserCache } from \"./cache/users\"\r\n\r\nexport async function insertUser(user: typeof UserTable.$inferInsert) {\r\n  await db.insert(UserTable).values(user).onConflictDoNothing()\r\n\r\n  revalidateUserCache(user.id)\r\n}\r\n\r\nexport async function updateUser(\r\n  id: string,\r\n  user: Partial<typeof UserTable.$inferInsert>\r\n) {\r\n  await db.update(UserTable).set(user).where(eq(UserTable.id, id))\r\n\r\n  revalidateUserCache(id)\r\n}\r\n\r\nexport async function deleteUser(id: string) {\r\n  await db.delete(UserTable).where(eq(UserTable.id, id))\r\n\r\n  revalidateUserCache(id)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,WAAW,IAAmC;IAClE,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,kIAAA,CAAA,YAAS,EAAE,MAAM,CAAC,MAAM,mBAAmB;IAE3D,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,KAAK,EAAE;AAC7B;AAEO,eAAe,WACpB,EAAU,EACV,IAA4C;IAE5C,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,kIAAA,CAAA,YAAS,EAAE,GAAG,CAAC,MAAM,KAAK,CAAC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,kIAAA,CAAA,YAAS,CAAC,EAAE,EAAE;IAE5D,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE;AACtB;AAEO,eAAe,WAAW,EAAU;IACzC,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,kIAAA,CAAA,YAAS,EAAE,KAAK,CAAC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,kIAAA,CAAA,YAAS,CAAC,EAAE,EAAE;IAElD,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/cache/userNotificationSettings.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getUserNotificationSettingsGlobalTag() {\r\n  return getGlobalTag(\"userNotificationSettings\")\r\n}\r\n\r\nexport function getUserNotificationSettingsIdTag(userId: string) {\r\n  return getIdTag(\"userNotificationSettings\", userId)\r\n}\r\n\r\nexport function revalidateUserNotificationSettingsCache(userId: string) {\r\n  revalidateTag(getUserNotificationSettingsGlobalTag())\r\n  revalidateTag(getUserNotificationSettingsIdTag(userId))\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,iCAAiC,MAAc;IAC7D,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,4BAA4B;AAC9C;AAEO,SAAS,wCAAwC,MAAc;IACpE,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,iCAAiC;AACjD","debugId":null}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/userNotificationSettings.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { UserNotificationSettingsTable } from \"@/drizzle/schema\"\r\nimport { revalidateUserNotificationSettingsCache } from \"./cache/userNotificationSettings\"\r\n\r\nexport async function insertUserNotificationSettings(\r\n  settings: typeof UserNotificationSettingsTable.$inferInsert\r\n) {\r\n  await db\r\n    .insert(UserNotificationSettingsTable)\r\n    .values(settings)\r\n    .onConflictDoNothing()\r\n\r\n  revalidateUserNotificationSettingsCache(settings.userId)\r\n}\r\n\r\nexport async function updateUserNotificationSettings(\r\n  userId: string,\r\n  settings: Partial<\r\n    Omit<typeof UserNotificationSettingsTable.$inferInsert, \"userId\">\r\n  >\r\n) {\r\n  await db\r\n    .insert(UserNotificationSettingsTable)\r\n    .values({ ...settings, userId })\r\n    .onConflictDoUpdate({\r\n      target: UserNotificationSettingsTable.userId,\r\n      set: settings,\r\n    })\r\n\r\n  revalidateUserNotificationSettingsCache(userId)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;;;;;AAEO,eAAe,+BACpB,QAA2D;IAE3D,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,sJAAA,CAAA,gCAA6B,EACpC,MAAM,CAAC,UACP,mBAAmB;IAEtB,CAAA,GAAA,qKAAA,CAAA,0CAAuC,AAAD,EAAE,SAAS,MAAM;AACzD;AAEO,eAAe,+BACpB,MAAc,EACd,QAEC;IAED,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,sJAAA,CAAA,gCAA6B,EACpC,MAAM,CAAC;QAAE,GAAG,QAAQ;QAAE;IAAO,GAC7B,kBAAkB,CAAC;QAClB,QAAQ,sJAAA,CAAA,gCAA6B,CAAC,MAAM;QAC5C,KAAK;IACP;IAEF,CAAA,GAAA,qKAAA,CAAA,0CAAuC,AAAD,EAAE;AAC1C","debugId":null}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/organizations/db/cache/organizations.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getOrganizationGlobalTag() {\r\n  return getGlobalTag(\"organizations\")\r\n}\r\n\r\nexport function getOrganizationIdTag(id: string) {\r\n  return getIdTag(\"organizations\", id)\r\n}\r\n\r\nexport function revalidateOrganizationCache(id: string) {\r\n  revalidateTag(getOrganizationGlobalTag())\r\n  revalidateTag(getOrganizationIdTag(id))\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,qBAAqB,EAAU;IAC7C,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,iBAAiB;AACnC;AAEO,SAAS,4BAA4B,EAAU;IACpD,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,qBAAqB;AACrC","debugId":null}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/organizations/db/organizations.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { OrganizationTable } from \"@/drizzle/schema\"\r\nimport { eq } from \"drizzle-orm\"\r\nimport { revalidateOrganizationCache } from \"./cache/organizations\"\r\n\r\nexport async function insertOrganization(\r\n  organization: typeof OrganizationTable.$inferInsert\r\n) {\r\n  await db.insert(OrganizationTable).values(organization).onConflictDoNothing()\r\n\r\n  revalidateOrganizationCache(organization.id)\r\n}\r\n\r\nexport async function updateOrganization(\r\n  id: string,\r\n  organization: Partial<typeof OrganizationTable.$inferInsert>\r\n) {\r\n  await db\r\n    .update(OrganizationTable)\r\n    .set(organization)\r\n    .where(eq(OrganizationTable.id, id))\r\n\r\n  revalidateOrganizationCache(id)\r\n}\r\n\r\nexport async function deleteOrganization(id: string) {\r\n  await db.delete(OrganizationTable).where(eq(OrganizationTable.id, id))\r\n\r\n  revalidateOrganizationCache(id)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,mBACpB,YAAmD;IAEnD,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,0IAAA,CAAA,oBAAiB,EAAE,MAAM,CAAC,cAAc,mBAAmB;IAE3E,CAAA,GAAA,kKAAA,CAAA,8BAA2B,AAAD,EAAE,aAAa,EAAE;AAC7C;AAEO,eAAe,mBACpB,EAAU,EACV,YAA4D;IAE5D,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,0IAAA,CAAA,oBAAiB,EACxB,GAAG,CAAC,cACJ,KAAK,CAAC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,0IAAA,CAAA,oBAAiB,CAAC,EAAE,EAAE;IAElC,CAAA,GAAA,kKAAA,CAAA,8BAA2B,AAAD,EAAE;AAC9B;AAEO,eAAe,mBAAmB,EAAU;IACjD,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,0IAAA,CAAA,oBAAiB,EAAE,KAAK,CAAC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,0IAAA,CAAA,oBAAiB,CAAC,EAAE,EAAE;IAElE,CAAA,GAAA,kKAAA,CAAA,8BAA2B,AAAD,EAAE;AAC9B","debugId":null}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/organizations/db/cache/organizationUserSettings.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getOrganizationUserSettingsGlobalTag() {\r\n  return getGlobalTag(\"organizationUserSettings\")\r\n}\r\n\r\nexport function getOrganizationUserSettingsIdTag({\r\n  userId,\r\n  organizationId,\r\n}: {\r\n  userId: string\r\n  organizationId: string\r\n}) {\r\n  return getIdTag(\"organizationUserSettings\", `${organizationId}-${userId}`)\r\n}\r\n\r\nexport function revalidateOrganizationUserSettingsCache(id: {\r\n  organizationId: string\r\n  userId: string\r\n}) {\r\n  revalidateTag(getOrganizationUserSettingsGlobalTag())\r\n  revalidateTag(getOrganizationUserSettingsIdTag(id))\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,iCAAiC,EAC/C,MAAM,EACN,cAAc,EAIf;IACC,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,4BAA4B,GAAG,eAAe,CAAC,EAAE,QAAQ;AAC3E;AAEO,SAAS,wCAAwC,EAGvD;IACC,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,iCAAiC;AACjD","debugId":null}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/organizations/db/organizationUserSettings.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { OrganizationUserSettingsTable } from \"@/drizzle/schema\"\r\nimport { revalidateOrganizationUserSettingsCache } from \"./cache/organizationUserSettings\"\r\nimport { and, eq } from \"drizzle-orm\"\r\n\r\nexport async function insertOrganizationUserSettings(\r\n  settings: typeof OrganizationUserSettingsTable.$inferInsert\r\n) {\r\n  await db\r\n    .insert(OrganizationUserSettingsTable)\r\n    .values(settings)\r\n    .onConflictDoNothing()\r\n\r\n  revalidateOrganizationUserSettingsCache(settings)\r\n}\r\n\r\nexport async function updateOrganizationUserSettings(\r\n  {\r\n    userId,\r\n    organizationId,\r\n  }: {\r\n    userId: string\r\n    organizationId: string\r\n  },\r\n  settings: Partial<\r\n    Omit<\r\n      typeof OrganizationUserSettingsTable.$inferInsert,\r\n      \"userId\" | \"organizationId\"\r\n    >\r\n  >\r\n) {\r\n  await db\r\n    .insert(OrganizationUserSettingsTable)\r\n    .values({ ...settings, userId, organizationId })\r\n    .onConflictDoUpdate({\r\n      target: [\r\n        OrganizationUserSettingsTable.userId,\r\n        OrganizationUserSettingsTable.organizationId,\r\n      ],\r\n      set: settings,\r\n    })\r\n\r\n  revalidateOrganizationUserSettingsCache({ userId, organizationId })\r\n}\r\n\r\nexport async function deleteOrganizationUserSettings({\r\n  userId,\r\n  organizationId,\r\n}: {\r\n  userId: string\r\n  organizationId: string\r\n}) {\r\n  await db\r\n    .delete(OrganizationUserSettingsTable)\r\n    .where(\r\n      and(\r\n        eq(OrganizationUserSettingsTable.userId, userId),\r\n        eq(OrganizationUserSettingsTable.organizationId, organizationId)\r\n      )\r\n    )\r\n\r\n  revalidateOrganizationUserSettingsCache({ userId, organizationId })\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,+BACpB,QAA2D;IAE3D,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,sJAAA,CAAA,gCAA6B,EACpC,MAAM,CAAC,UACP,mBAAmB;IAEtB,CAAA,GAAA,6KAAA,CAAA,0CAAuC,AAAD,EAAE;AAC1C;AAEO,eAAe,+BACpB,EACE,MAAM,EACN,cAAc,EAIf,EACD,QAKC;IAED,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,sJAAA,CAAA,gCAA6B,EACpC,MAAM,CAAC;QAAE,GAAG,QAAQ;QAAE;QAAQ;IAAe,GAC7C,kBAAkB,CAAC;QAClB,QAAQ;YACN,sJAAA,CAAA,gCAA6B,CAAC,MAAM;YACpC,sJAAA,CAAA,gCAA6B,CAAC,cAAc;SAC7C;QACD,KAAK;IACP;IAEF,CAAA,GAAA,6KAAA,CAAA,0CAAuC,AAAD,EAAE;QAAE;QAAQ;IAAe;AACnE;AAEO,eAAe,+BAA+B,EACnD,MAAM,EACN,cAAc,EAIf;IACC,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,sJAAA,CAAA,gCAA6B,EACpC,KAAK,CACJ,CAAA,GAAA,oKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,sJAAA,CAAA,gCAA6B,CAAC,MAAM,EAAE,SACzC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,sJAAA,CAAA,gCAA6B,CAAC,cAAc,EAAE;IAIvD,CAAA,GAAA,6KAAA,CAAA,0CAAuC,AAAD,EAAE;QAAE;QAAQ;IAAe;AACnE","debugId":null}},
    {"offset": {"line": 987, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/functions/clerk.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport { inngest } from \"../client\"\r\nimport { Webhook } from \"svix\"\r\nimport { NonRetriableError } from \"inngest\"\r\nimport { deleteUser, insertUser, updateUser } from \"@/features/users/db/users\"\r\nimport { insertUserNotificationSettings } from \"@/features/users/db/userNotificationSettings\"\r\nimport {\r\n  deleteOrganization,\r\n  insertOrganization,\r\n  updateOrganization,\r\n} from \"@/features/organizations/db/organizations\"\r\nimport {\r\n  deleteOrganizationUserSettings,\r\n  insertOrganizationUserSettings,\r\n} from \"@/features/organizations/db/organizationUserSettings\"\r\n\r\nfunction verifyWebhook({\r\n  raw,\r\n  headers,\r\n}: {\r\n  raw: string\r\n  headers: Record<string, string>\r\n}) {\r\n  return new Webhook(env.CLERK_WEBHOOK_SECRET).verify(raw, headers)\r\n}\r\n\r\nexport const clerkCreateUser = inngest.createFunction(\r\n  { id: \"clerk/create-db-user\", name: \"Clerk - Create DB User\" },\r\n  {\r\n    event: \"clerk/user.created\",\r\n  },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    const userId = await step.run(\"create-user\", async () => {\r\n      const userData = event.data.data\r\n      const email = userData.email_addresses.find(\r\n        email => email.id === userData.primary_email_address_id\r\n      )\r\n\r\n      if (email == null) {\r\n        throw new NonRetriableError(\"No primary email address found\")\r\n      }\r\n\r\n      await insertUser({\r\n        id: userData.id,\r\n        name: `${userData.first_name} ${userData.last_name}`,\r\n        imageUrl: userData.image_url,\r\n        email: email.email_address,\r\n        createdAt: new Date(userData.created_at),\r\n        updatedAt: new Date(userData.updated_at),\r\n      })\r\n\r\n      return userData.id\r\n    })\r\n\r\n    await step.run(\"create-user-notification-settings\", async () => {\r\n      await insertUserNotificationSettings({ userId })\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkUpdateUser = inngest.createFunction(\r\n  { id: \"clerk/update-db-user\", name: \"Clerk - Update DB User\" },\r\n  { event: \"clerk/user.updated\" },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"update-user\", async () => {\r\n      const userData = event.data.data\r\n      const email = userData.email_addresses.find(\r\n        email => email.id === userData.primary_email_address_id\r\n      )\r\n\r\n      if (email == null) {\r\n        throw new NonRetriableError(\"No primary email address found\")\r\n      }\r\n\r\n      await updateUser(userData.id, {\r\n        name: `${userData.first_name} ${userData.last_name}`,\r\n        imageUrl: userData.image_url,\r\n        email: email.email_address,\r\n        updatedAt: new Date(userData.updated_at),\r\n      })\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkDeleteUser = inngest.createFunction(\r\n  { id: \"clerk/delete-db-user\", name: \"Clerk - Delete DB User\" },\r\n  { event: \"clerk/user.deleted\" },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"delete-user\", async () => {\r\n      const { id } = event.data.data\r\n\r\n      if (id == null) {\r\n        throw new NonRetriableError(\"No id found\")\r\n      }\r\n      await deleteUser(id)\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkCreateOrganization = inngest.createFunction(\r\n  {\r\n    id: \"clerk/create-db-organization\",\r\n    name: \"Clerk - Create DB Organization\",\r\n  },\r\n  {\r\n    event: \"clerk/organization.created\",\r\n  },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"create-organization\", async () => {\r\n      const orgData = event.data.data\r\n\r\n      await insertOrganization({\r\n        id: orgData.id,\r\n        name: orgData.name,\r\n        imageUrl: orgData.image_url,\r\n        createdAt: new Date(orgData.created_at),\r\n        updatedAt: new Date(orgData.updated_at),\r\n      })\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkUpdateOrganization = inngest.createFunction(\r\n  {\r\n    id: \"clerk/update-db-organization\",\r\n    name: \"Clerk - Update DB Organization\",\r\n  },\r\n  { event: \"clerk/organization.updated\" },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"update-organization\", async () => {\r\n      const orgData = event.data.data\r\n\r\n      await updateOrganization(orgData.id, {\r\n        name: orgData.name,\r\n        imageUrl: orgData.image_url,\r\n        updatedAt: new Date(orgData.updated_at),\r\n      })\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkDeleteOrganization = inngest.createFunction(\r\n  {\r\n    id: \"clerk/delete-db-organization\",\r\n    name: \"Clerk - Delete DB Organization\",\r\n  },\r\n  { event: \"clerk/organization.deleted\" },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"delete-organization\", async () => {\r\n      const { id } = event.data.data\r\n\r\n      if (id == null) {\r\n        throw new NonRetriableError(\"No id found\")\r\n      }\r\n      await deleteOrganization(id)\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkCreateOrgMembership = inngest.createFunction(\r\n  {\r\n    id: \"clerk/create-organization-user-settings\",\r\n    name: \"Clerk - Create Organization User Settings\",\r\n  },\r\n  {\r\n    event: \"clerk/organizationMembership.created\",\r\n  },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"create-organization-user-settings\", async () => {\r\n      const userId = event.data.data.public_user_data.user_id\r\n      const orgId = event.data.data.organization.id\r\n\r\n      await insertOrganizationUserSettings({\r\n        userId,\r\n        organizationId: orgId,\r\n      })\r\n    })\r\n  }\r\n)\r\n\r\nexport const clerkDeleteOrgMembership = inngest.createFunction(\r\n  {\r\n    id: \"clerk/delete-organization-user-settings\",\r\n    name: \"Clerk - Delete Organization User Settings\",\r\n  },\r\n  {\r\n    event: \"clerk/organizationMembership.deleted\",\r\n  },\r\n  async ({ event, step }) => {\r\n    await step.run(\"verify-webhook\", async () => {\r\n      try {\r\n        verifyWebhook(event.data)\r\n      } catch {\r\n        throw new NonRetriableError(\"Invalid webhook\")\r\n      }\r\n    })\r\n\r\n    await step.run(\"delete-organization-user-settings\", async () => {\r\n      const userId = event.data.data.public_user_data.user_id\r\n      const orgId = event.data.data.organization.id\r\n\r\n      await deleteOrganizationUserSettings({\r\n        userId,\r\n        organizationId: orgId,\r\n      })\r\n    })\r\n  }\r\n)\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1230, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/ai/getLastOutputMessage.ts"],"sourcesContent":["import { AgentResult } from \"@inngest/agent-kit\"\r\n\r\nexport function getLastOutputMessage(result: AgentResult) {\r\n  console.log(\"Processing agent result:\", JSON.stringify(result, null, 2));\r\n  \r\n  const lastMessage = result.output.at(-1)\r\n  if (lastMessage == null) {\r\n    console.log(\"No last message found in output\");\r\n    return;\r\n  }\r\n  \r\n  console.log(\"Last message type:\", lastMessage.type);\r\n  \r\n  if (lastMessage.type !== \"text\") {\r\n    console.log(\"Last message is not text type\");\r\n    return;\r\n  }\r\n  \r\n  // Handle different content formats\r\n  if (typeof lastMessage.content === \"string\") {\r\n    const content = lastMessage.content.trim();\r\n    console.log(\"String content:\", content);\r\n    return content;\r\n  } else if (Array.isArray(lastMessage.content)) {\r\n    const content = lastMessage.content.join(\"\\n\").trim();\r\n    console.log(\"Array content joined:\", content);\r\n    return content;\r\n  } else {\r\n    console.log(\"Unexpected content format:\", lastMessage.content);\r\n    return;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,qBAAqB,MAAmB;IACtD,QAAQ,GAAG,CAAC,4BAA4B,KAAK,SAAS,CAAC,QAAQ,MAAM;IAErE,MAAM,cAAc,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;IACtC,IAAI,eAAe,MAAM;QACvB,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,QAAQ,GAAG,CAAC,sBAAsB,YAAY,IAAI;IAElD,IAAI,YAAY,IAAI,KAAK,QAAQ;QAC/B,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,mCAAmC;IACnC,IAAI,OAAO,YAAY,OAAO,KAAK,UAAU;QAC3C,MAAM,UAAU,YAAY,OAAO,CAAC,IAAI;QACxC,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,OAAO;IACT,OAAO,IAAI,MAAM,OAAO,CAAC,YAAY,OAAO,GAAG;QAC7C,MAAM,UAAU,YAAY,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI;QACnD,QAAQ,GAAG,CAAC,yBAAyB;QACrC,OAAO;IACT,OAAO;QACL,QAAQ,GAAG,CAAC,8BAA8B,YAAY,OAAO;QAC7D;IACF;AACF","debugId":null}},
    {"offset": {"line": 1263, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/ai/getMatchingJobListings.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport {\r\n  experienceLevels,\r\n  jobListingTypes,\r\n  locationRequirements,\r\n  wageIntervals,\r\n} from \"@/drizzle/schema\"\r\nimport { createAgent, openai} from \"@inngest/agent-kit\"\r\nimport { z } from \"zod\"\r\nimport { getLastOutputMessage } from \"./getLastOutputMessage\"\r\n\r\nconst listingSchema = z.object({\r\n  id: z.string(),\r\n  title: z.string(),\r\n  description: z.string(),\r\n  wage: z.number().nullable(),\r\n  wageInterval: z.enum(wageIntervals).nullable(),\r\n  stateAbbreviation: z.string().nullable(),\r\n  city: z.string().nullable(),\r\n  experienceLevel: z.enum(experienceLevels),\r\n  type: z.enum(jobListingTypes),\r\n  locationRequirement: z.enum(locationRequirements),\r\n})\r\n\r\n\r\nexport async function getMatchingJobListings(\r\n  prompt: string,\r\n  jobListings: z.infer<typeof listingSchema>[],\r\n  { maxNumberOfJobs }: { maxNumberOfJobs?: number } = {}\r\n) {\r\n  const NO_JOBS = \"NO_JOBS\"\r\n  console.log(\"Gemini API Key Loaded:\", env.GEMINI_API_KEY ? \"Yes\" : \"No\");\r\n  const agent = createAgent({\r\n    name: \"Job Matching Agent\",\r\n    description: \"Agent for matching users with job listings\",\r\n    system: `You are an expert at matching people with jobs based on their specific experience, and requirements. The provided user prompt will be a description that includes information about themselves and their job requirements. ${\r\n      maxNumberOfJobs\r\n        ? `You are to return up to ${maxNumberOfJobs} jobs.`\r\n        : `Return all jobs that match their requirements.`\r\n    } \r\n        \r\n    Return the jobs as a comma separated list of jobIds. If you cannot find any jobs that match the user prompt, return the text \"${NO_JOBS}\". Here is the JSON array of available job listings: ${JSON.stringify(\r\n      jobListings.map(listing =>\r\n        listingSchema\r\n          .transform(listing => ({\r\n            ...listing,\r\n            wage: listing.wage ?? undefined,\r\n            wageInterval: listing.wageInterval ?? undefined,\r\n            city: listing.city ?? undefined,\r\n            stateAbbreviation: listing.stateAbbreviation ?? undefined,\r\n            locationRequirement: listing.locationRequirement ?? undefined,\r\n          }))\r\n          .parse(listing)\r\n      )\r\n    )}`,\r\n    model: openai({\r\n      model: \"qwen-turbo\",\r\n      apiKey: env.QWEN_API_KEY,\r\n      baseUrl: \"https://dashscope.aliyuncs.com/compatible-mode/v1\",\r\n    }),\r\n  })\r\n  const result = await agent.run(prompt)\r\n  const lastMessage = getLastOutputMessage(result)\r\n\r\n  if (lastMessage == null || lastMessage === NO_JOBS) return []\r\n\r\n  return lastMessage\r\n    .split(\",\")\r\n    .map(jobId => jobId.trim())\r\n    .filter(Boolean)\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;AAEA,MAAM,gBAAgB,mLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC7B,IAAI,mLAAA,CAAA,IAAC,CAAC,MAAM;IACZ,OAAO,mLAAA,CAAA,IAAC,CAAC,MAAM;IACf,aAAa,mLAAA,CAAA,IAAC,CAAC,MAAM;IACrB,MAAM,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACzB,cAAc,mLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,wIAAA,CAAA,gBAAa,EAAE,QAAQ;IAC5C,mBAAmB,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACtC,MAAM,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACzB,iBAAiB,mLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,wIAAA,CAAA,mBAAgB;IACxC,MAAM,mLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,wIAAA,CAAA,kBAAe;IAC5B,qBAAqB,mLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,wIAAA,CAAA,uBAAoB;AAClD;AAGO,eAAe,uBACpB,MAAc,EACd,WAA4C,EAC5C,EAAE,eAAe,EAAgC,GAAG,CAAC,CAAC;IAEtD,MAAM,UAAU;IAChB,QAAQ,GAAG,CAAC,0BAA0B,8HAAA,CAAA,MAAG,CAAC,cAAc,GAAG,QAAQ;IACnE,MAAM,QAAQ,CAAA,GAAA,wKAAA,CAAA,cAAW,AAAD,EAAE;QACxB,MAAM;QACN,aAAa;QACb,QAAQ,CAAC,2NAA2N,EAClO,kBACI,CAAC,wBAAwB,EAAE,gBAAgB,MAAM,CAAC,GAClD,CAAC,8CAA8C,CAAC,CACrD;;kIAE6H,EAAE,QAAQ,qDAAqD,EAAE,KAAK,SAAS,CAC3M,YAAY,GAAG,CAAC,CAAA,UACd,cACG,SAAS,CAAC,CAAA,UAAW,CAAC;oBACrB,GAAG,OAAO;oBACV,MAAM,QAAQ,IAAI,IAAI;oBACtB,cAAc,QAAQ,YAAY,IAAI;oBACtC,MAAM,QAAQ,IAAI,IAAI;oBACtB,mBAAmB,QAAQ,iBAAiB,IAAI;oBAChD,qBAAqB,QAAQ,mBAAmB,IAAI;gBACtD,CAAC,GACA,KAAK,CAAC,YAEV;QACH,OAAO,CAAA,GAAA,+LAAA,CAAA,SAAM,AAAD,EAAE;YACZ,OAAO;YACP,QAAQ,8HAAA,CAAA,MAAG,CAAC,YAAY;YACxB,SAAS;QACX;IACF;IACA,MAAM,SAAS,MAAM,MAAM,GAAG,CAAC;IAC/B,MAAM,cAAc,CAAA,GAAA,0JAAA,CAAA,uBAAoB,AAAD,EAAE;IAEzC,IAAI,eAAe,QAAQ,gBAAgB,SAAS,OAAO,EAAE;IAE7D,OAAO,YACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAA,QAAS,MAAM,IAAI,IACvB,MAAM,CAAC;AACZ","debugId":null}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/resend/client.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport { Resend } from \"resend\"\r\n\r\nexport const resend = new Resend(env.RESEND_API_KEY)\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,SAAS,IAAI,0IAAA,CAAA,SAAM,CAAC,8HAAA,CAAA,MAAG,CAAC,cAAc","debugId":null}},
    {"offset": {"line": 1335, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/resend/data/tailwindConfig.ts"],"sourcesContent":["import type { TailwindConfig } from \"@react-email/tailwind\"\r\n\r\nexport default {\r\n  theme: {\r\n    fontSize: {\r\n      xs: [\"12px\", { lineHeight: \"16px\" }],\r\n      sm: [\"14px\", { lineHeight: \"20px\" }],\r\n      base: [\"16px\", { lineHeight: \"24px\" }],\r\n      lg: [\"18px\", { lineHeight: \"28px\" }],\r\n      xl: [\"20px\", { lineHeight: \"28px\" }],\r\n      \"2xl\": [\"24px\", { lineHeight: \"32px\" }],\r\n      \"3xl\": [\"30px\", { lineHeight: \"36px\" }],\r\n      \"4xl\": [\"36px\", { lineHeight: \"36px\" }],\r\n      \"5xl\": [\"48px\", { lineHeight: \"1\" }],\r\n      \"6xl\": [\"60px\", { lineHeight: \"1\" }],\r\n      \"7xl\": [\"72px\", { lineHeight: \"1\" }],\r\n      \"8xl\": [\"96px\", { lineHeight: \"1\" }],\r\n      \"9xl\": [\"144px\", { lineHeight: \"1\" }],\r\n    },\r\n    spacing: {\r\n      px: \"1px\",\r\n      0: \"0\",\r\n      0.5: \"2px\",\r\n      1: \"4px\",\r\n      1.5: \"6px\",\r\n      2: \"8px\",\r\n      2.5: \"10px\",\r\n      3: \"12px\",\r\n      3.5: \"14px\",\r\n      4: \"16px\",\r\n      5: \"20px\",\r\n      6: \"24px\",\r\n      7: \"28px\",\r\n      8: \"32px\",\r\n      9: \"36px\",\r\n      10: \"40px\",\r\n      11: \"44px\",\r\n      12: \"48px\",\r\n      14: \"56px\",\r\n      16: \"64px\",\r\n      20: \"80px\",\r\n      24: \"96px\",\r\n      28: \"112px\",\r\n      32: \"128px\",\r\n      36: \"144px\",\r\n      40: \"160px\",\r\n      44: \"176px\",\r\n      48: \"192px\",\r\n      52: \"208px\",\r\n      56: \"224px\",\r\n      60: \"240px\",\r\n      64: \"256px\",\r\n      72: \"288px\",\r\n      80: \"320px\",\r\n      96: \"384px\",\r\n    },\r\n    colors: {\r\n      foreground: \"rgb(10, 10, 10)\",\r\n      background: \"rgb(255, 255, 255)\",\r\n\r\n      card: {\r\n        DEFAULT: \"rgb(255, 255, 255)\",\r\n        foreground: \"rgb(10, 10, 10)\",\r\n      },\r\n      popover: {\r\n        DEFAULT: \"rgb(255, 255, 255)\",\r\n        foreground: \"rgb(10, 10, 10)\",\r\n      },\r\n      primary: {\r\n        DEFAULT: \"rgb(23, 23, 23)\",\r\n        foreground: \"rgb(250, 250, 250)\",\r\n      },\r\n      secondary: {\r\n        DEFAULT: \"rgb(245, 245, 245)\",\r\n        foreground: \"rgb(23, 23, 23)\",\r\n      },\r\n      muted: {\r\n        DEFAULT: \"rgb(245, 245, 245)\",\r\n        foreground: \"rgb(115, 115, 115)\",\r\n      },\r\n      accent: {\r\n        DEFAULT: \"rgb(245, 245, 245)\",\r\n        foreground: \"rgb(23, 23, 23)\",\r\n      },\r\n      destructive: \"rgb(231, 0, 11)\",\r\n      border: \"rgb(229, 229, 229)\",\r\n      input: \"rgb(229, 229, 229)\",\r\n      ring: \"rgb(161, 161, 161)\",\r\n    },\r\n  },\r\n} satisfies TailwindConfig\r\n"],"names":[],"mappings":";;;uCAEe;IACb,OAAO;QACL,UAAU;YACR,IAAI;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACpC,IAAI;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACpC,MAAM;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACtC,IAAI;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACpC,IAAI;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACpC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACvC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACvC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAO;aAAE;YACvC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAI;aAAE;YACpC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAI;aAAE;YACpC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAI;aAAE;YACpC,OAAO;gBAAC;gBAAQ;oBAAE,YAAY;gBAAI;aAAE;YACpC,OAAO;gBAAC;gBAAS;oBAAE,YAAY;gBAAI;aAAE;QACvC;QACA,SAAS;YACP,IAAI;YACJ,GAAG;YACH,KAAK;YACL,GAAG;YACH,KAAK;YACL,GAAG;YACH,KAAK;YACL,GAAG;YACH,KAAK;YACL,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;QACN;QACA,QAAQ;YACN,YAAY;YACZ,YAAY;YAEZ,MAAM;gBACJ,SAAS;gBACT,YAAY;YACd;YACA,SAAS;gBACP,SAAS;gBACT,YAAY;YACd;YACA,SAAS;gBACP,SAAS;gBACT,YAAY;YACd;YACA,WAAW;gBACT,SAAS;gBACT,YAAY;YACd;YACA,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;YACA,QAAQ;gBACN,SAAS;gBACT,YAAY;YACd;YACA,aAAa;YACb,QAAQ;YACR,OAAO;YACP,MAAM;QACR;IACF;AACF","debugId":null}},
    {"offset": {"line": 1495, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/lib/formatters.ts"],"sourcesContent":["import {\r\n  ExperienceLevel,\r\n  JobListingStatus,\r\n  JobListingType,\r\n  LocationRequirement,\r\n  WageInterval,\r\n} from \"@/drizzle/schema\"\r\n\r\nexport function formatWageInterval(interval: WageInterval) {\r\n  switch (interval) {\r\n    case \"hourly\":\r\n      return \"Hour\"\r\n    case \"yearly\":\r\n      return \"Year\"\r\n    default:\r\n      throw new Error(`Invalid wage interval: ${interval satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatLocationRequirement(\r\n  locationRequirement: LocationRequirement\r\n) {\r\n  switch (locationRequirement) {\r\n    case \"remote\":\r\n      return \"Remote\"\r\n    case \"in-office\":\r\n      return \"In Office\"\r\n    case \"hybrid\":\r\n      return \"Hybrid\"\r\n    default:\r\n      throw new Error(\r\n        `Unknown location requirement: ${locationRequirement satisfies never}`\r\n      )\r\n  }\r\n}\r\n\r\nexport function formatExperienceLevel(experienceLevel: ExperienceLevel) {\r\n  switch (experienceLevel) {\r\n    case \"junior\":\r\n      return \"Junior\"\r\n    case \"mid-level\":\r\n      return \"Mid Level\"\r\n    case \"senior\":\r\n      return \"Senior\"\r\n    default:\r\n      throw new Error(\r\n        `Unknown experience level: ${experienceLevel satisfies never}`\r\n      )\r\n  }\r\n}\r\n\r\nexport function formatJobType(type: JobListingType) {\r\n  switch (type) {\r\n    case \"full-time\":\r\n      return \"Full Time\"\r\n    case \"part-time\":\r\n      return \"Part Time\"\r\n    case \"internship\":\r\n      return \"Internship\"\r\n    default:\r\n      throw new Error(`Unknown job type: ${type satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatJobListingStatus(status: JobListingStatus) {\r\n  switch (status) {\r\n    case \"published\":\r\n      return \"Active\"\r\n    case \"draft\":\r\n      return \"Draft\"\r\n    case \"delisted\":\r\n      return \"Delisted\"\r\n    default:\r\n      throw new Error(`Unknown status: ${status satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatWage(wage: number, wageInterval: WageInterval) {\r\n  const wageFormatter = new Intl.NumberFormat(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n    minimumFractionDigits: 0,\r\n  })\r\n\r\n  switch (wageInterval) {\r\n    case \"hourly\": {\r\n      return `${wageFormatter.format(wage)} / hr`\r\n    }\r\n    case \"yearly\": {\r\n      return wageFormatter.format(wage)\r\n    }\r\n    default:\r\n      throw new Error(`Unknown wage interval: ${wageInterval satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatJobListingLocation({\r\n  stateAbbreviation,\r\n  city,\r\n}: {\r\n  stateAbbreviation: string | null\r\n  city: string | null\r\n}) {\r\n  if (stateAbbreviation == null && city == null) return \"None\"\r\n\r\n  const locationParts = []\r\n  if (city != null) locationParts.push(city)\r\n  if (stateAbbreviation != null) {\r\n    locationParts.push(stateAbbreviation.toUpperCase())\r\n  }\r\n\r\n  return locationParts.join(\", \")\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAQO,SAAS,mBAAmB,QAAsB;IACvD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,UAA0B;IACxE;AACF;AAEO,SAAS,0BACd,mBAAwC;IAExC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MACR,CAAC,8BAA8B,EAAE,qBAAqC;IAE5E;AACF;AAEO,SAAS,sBAAsB,eAAgC;IACpE,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MACR,CAAC,0BAA0B,EAAE,iBAAiC;IAEpE;AACF;AAEO,SAAS,cAAc,IAAoB;IAChD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,MAAsB;IAC/D;AACF;AAEO,SAAS,uBAAuB,MAAwB;IAC7D,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,QAAwB;IAC/D;AACF;AAEO,SAAS,WAAW,IAAY,EAAE,YAA0B;IACjE,MAAM,gBAAgB,IAAI,KAAK,YAAY,CAAC,SAAS;QACnD,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB;IAEA,OAAQ;QACN,KAAK;YAAU;gBACb,OAAO,GAAG,cAAc,MAAM,CAAC,MAAM,KAAK,CAAC;YAC7C;QACA,KAAK;YAAU;gBACb,OAAO,cAAc,MAAM,CAAC;YAC9B;QACA;YACE,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,cAA8B;IAC5E;AACF;AAEO,SAAS,yBAAyB,EACvC,iBAAiB,EACjB,IAAI,EAIL;IACC,IAAI,qBAAqB,QAAQ,QAAQ,MAAM,OAAO;IAEtD,MAAM,gBAAgB,EAAE;IACxB,IAAI,QAAQ,MAAM,cAAc,IAAI,CAAC;IACrC,IAAI,qBAAqB,MAAM;QAC7B,cAAc,IAAI,CAAC,kBAAkB,WAAW;IAClD;IAEA,OAAO,cAAc,IAAI,CAAC;AAC5B","debugId":null}},
    {"offset": {"line": 1594, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/resend/components/DailyJobListingEmail.tsx"],"sourcesContent":["import { JobListingTable } from \"@/drizzle/schema\"\r\nimport {\r\n  Button,\r\n  Container,\r\n  Head,\r\n  Heading,\r\n  Html,\r\n  Section,\r\n  Tailwind,\r\n  Text,\r\n} from \"@react-email/components\"\r\nimport tailwindConfig from \"../data/tailwindConfig\"\r\nimport {\r\n  formatExperienceLevel,\r\n  formatJobListingLocation,\r\n  formatJobType,\r\n  formatLocationRequirement,\r\n  formatWage,\r\n} from \"@/features/jobListings/lib/formatters\"\r\n\r\ntype JobListing = Pick<\r\n  typeof JobListingTable.$inferSelect,\r\n  | \"id\"\r\n  | \"title\"\r\n  | \"city\"\r\n  | \"stateAbbreviation\"\r\n  | \"type\"\r\n  | \"experienceLevel\"\r\n  | \"wage\"\r\n  | \"wageInterval\"\r\n  | \"locationRequirement\"\r\n> & {\r\n  organizationName: string\r\n}\r\n\r\nexport default function DailyJobListingEmail({\r\n  jobListings,\r\n  serverUrl,\r\n  userName,\r\n}: {\r\n  userName: string\r\n  jobListings: JobListing[]\r\n  serverUrl: string\r\n}) {\r\n  return (\r\n    <Tailwind config={tailwindConfig}>\r\n      <Html>\r\n        <Head />\r\n        <Container className=\"font-sans\">\r\n          <Heading as=\"h1\">New Job Listings!</Heading>\r\n\r\n          <Text>\r\n            Hi {userName}. Here are all the new job listings that meet your\r\n            criteria.\r\n          </Text>\r\n          <Section>\r\n            {jobListings.map(jobListing => (\r\n              <div\r\n                key={jobListing.id}\r\n                className=\"bg-card text-card-foreground rounded-lg border p-4 border-primary border-solid mb-6\"\r\n              >\r\n                <Text className=\"leading-none font-semibold text-xl my-0\">\r\n                  {jobListing.title}\r\n                </Text>\r\n                <Text className=\"text-muted-foreground mb-2 mt-0\">\r\n                  {jobListing.organizationName}\r\n                </Text>\r\n                <div className=\"mb-5\">\r\n                  {getBadges(jobListing).map((badge, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"inline-block rounded-md border-solid border font-medium w-fit text-foreground text-sm px-3 py-1 mb-1 mr-1\"\r\n                    >\r\n                      {badge}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <Button\r\n                  href={`${serverUrl}/job-listings/${jobListing.id}`}\r\n                  className=\"rounded-md text-sm font-medium focus-visible: border-ring bg-primary text-primary-foreground px-4 py-2\"\r\n                >\r\n                  View Details\r\n                </Button>\r\n              </div>\r\n            ))}\r\n          </Section>\r\n        </Container>\r\n      </Html>\r\n    </Tailwind>\r\n  )\r\n}\r\n\r\nfunction getBadges(jobListing: JobListing) {\r\n  const badges = [\r\n    formatLocationRequirement(jobListing.locationRequirement),\r\n    formatJobType(jobListing.type),\r\n    formatExperienceLevel(jobListing.experienceLevel),\r\n  ]\r\n\r\n  if (jobListing.city != null || jobListing.stateAbbreviation != null) {\r\n    badges.unshift(formatJobListingLocation(jobListing))\r\n  }\r\n\r\n  if (jobListing.wage != null && jobListing.wageInterval != null) {\r\n    badges.unshift(formatWage(jobListing.wage, jobListing.wageInterval))\r\n  }\r\n\r\n  return badges\r\n}\r\n\r\nDailyJobListingEmail.PreviewProps = {\r\n  jobListings: [\r\n    {\r\n      city: \"Omaha\",\r\n      stateAbbreviation: \"NE\",\r\n      title: \"Frontend Developer\",\r\n      wage: null,\r\n      wageInterval: null,\r\n      experienceLevel: \"senior\",\r\n      type: \"part-time\",\r\n      id: crypto.randomUUID(),\r\n      organizationName: \"Web Dev Simplified\",\r\n      locationRequirement: \"in-office\",\r\n    },\r\n    {\r\n      city: null,\r\n      stateAbbreviation: null,\r\n      title: \"Software Engineer\",\r\n      wage: 100000,\r\n      wageInterval: \"yearly\",\r\n      experienceLevel: \"mid-level\",\r\n      type: \"full-time\",\r\n      id: crypto.randomUUID(),\r\n      organizationName: \"Google\",\r\n      locationRequirement: \"remote\",\r\n    },\r\n  ],\r\n  userName: \"John Doe\",\r\n  serverUrl: \"http://localhost:3000\",\r\n} satisfies Parameters<typeof DailyJobListingEmail>[0]\r\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;;;;;AAuBe,SAAS,qBAAqB,EAC3C,WAAW,EACX,SAAS,EACT,QAAQ,EAKT;IACC,qBACE,gPAAC,gKAAA,CAAA,WAAQ;QAAC,QAAQ,qJAAA,CAAA,UAAc;kBAC9B,cAAA,gPAAC,4JAAA,CAAA,OAAI;;8BACH,gPAAC,4JAAA,CAAA,OAAI;;;;;8BACL,gPAAC,iKAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,gPAAC,+JAAA,CAAA,UAAO;4BAAC,IAAG;sCAAK;;;;;;sCAEjB,gPAAC,4JAAA,CAAA,OAAI;;gCAAC;gCACA;gCAAS;;;;;;;sCAGf,gPAAC,+JAAA,CAAA,UAAO;sCACL,YAAY,GAAG,CAAC,CAAA,2BACf,gPAAC;oCAEC,WAAU;;sDAEV,gPAAC,4JAAA,CAAA,OAAI;4CAAC,WAAU;sDACb,WAAW,KAAK;;;;;;sDAEnB,gPAAC,4JAAA,CAAA,OAAI;4CAAC,WAAU;sDACb,WAAW,gBAAgB;;;;;;sDAE9B,gPAAC;4CAAI,WAAU;sDACZ,UAAU,YAAY,GAAG,CAAC,CAAC,OAAO,sBACjC,gPAAC;oDAEC,WAAU;8DAET;mDAHI;;;;;;;;;;sDAOX,gPAAC,8JAAA,CAAA,SAAM;4CACL,MAAM,GAAG,UAAU,cAAc,EAAE,WAAW,EAAE,EAAE;4CAClD,WAAU;sDACX;;;;;;;mCAtBI,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgClC;AAEA,SAAS,UAAU,UAAsB;IACvC,MAAM,SAAS;QACb,CAAA,GAAA,qJAAA,CAAA,4BAAyB,AAAD,EAAE,WAAW,mBAAmB;QACxD,CAAA,GAAA,qJAAA,CAAA,gBAAa,AAAD,EAAE,WAAW,IAAI;QAC7B,CAAA,GAAA,qJAAA,CAAA,wBAAqB,AAAD,EAAE,WAAW,eAAe;KACjD;IAED,IAAI,WAAW,IAAI,IAAI,QAAQ,WAAW,iBAAiB,IAAI,MAAM;QACnE,OAAO,OAAO,CAAC,CAAA,GAAA,qJAAA,CAAA,2BAAwB,AAAD,EAAE;IAC1C;IAEA,IAAI,WAAW,IAAI,IAAI,QAAQ,WAAW,YAAY,IAAI,MAAM;QAC9D,OAAO,OAAO,CAAC,CAAA,GAAA,qJAAA,CAAA,aAAU,AAAD,EAAE,WAAW,IAAI,EAAE,WAAW,YAAY;IACpE;IAEA,OAAO;AACT;AAEA,qBAAqB,YAAY,GAAG;IAClC,aAAa;QACX;YACE,MAAM;YACN,mBAAmB;YACnB,OAAO;YACP,MAAM;YACN,cAAc;YACd,iBAAiB;YACjB,MAAM;YACN,IAAI,OAAO,UAAU;YACrB,kBAAkB;YAClB,qBAAqB;QACvB;QACA;YACE,MAAM;YACN,mBAAmB;YACnB,OAAO;YACP,MAAM;YACN,cAAc;YACd,iBAAiB;YACjB,MAAM;YACN,IAAI,OAAO,UAAU;YACrB,kBAAkB;YAClB,qBAAqB;QACvB;KACD;IACD,UAAU;IACV,WAAW;AACb","debugId":null}},
    {"offset": {"line": 1765, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,uIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 1779, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/resend/components/DailyApplicationEmail.tsx"],"sourcesContent":["import { JobListingApplicationTable, JobListingTable } from \"@/drizzle/schema\"\r\nimport {\r\n  Button,\r\n  Container,\r\n  Head,\r\n  Heading,\r\n  Html,\r\n  Section,\r\n  Tailwind,\r\n  Text,\r\n} from \"@react-email/components\"\r\nimport tailwindConfig from \"../data/tailwindConfig\"\r\nimport {\r\n  formatExperienceLevel,\r\n  formatJobListingLocation,\r\n  formatJobType,\r\n  formatLocationRequirement,\r\n  formatWage,\r\n} from \"@/features/jobListings/lib/formatters\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { ReactNode } from \"react\"\r\n\r\ntype Application = Pick<\r\n  typeof JobListingApplicationTable.$inferSelect,\r\n  \"rating\"\r\n> & {\r\n  userName: string\r\n  organizationId: string\r\n  organizationName: string\r\n  jobListingId: string\r\n  jobListingTitle: string\r\n}\r\n\r\nexport default function DailyApplicationEmail({\r\n  applications,\r\n  userName,\r\n}: {\r\n  userName: string\r\n  applications: Application[]\r\n}) {\r\n  return (\r\n    <Tailwind config={tailwindConfig}>\r\n      <Html>\r\n        <Head />\r\n        <Container className=\"font-sans\">\r\n          <Heading as=\"h1\">New Applications!</Heading>\r\n\r\n          <Text>\r\n            Hi {userName}. Here are all the new applications for your job\r\n            listings.\r\n          </Text>\r\n          {Object.entries(\r\n            Object.groupBy(applications, a => a.organizationId)\r\n          ).map(([orgId, orgApplications], i) => {\r\n            if (orgApplications == null || orgApplications.length === 0) {\r\n              return null\r\n            }\r\n\r\n            return (\r\n              <OrganizationSection\r\n                key={orgId}\r\n                orgName={orgApplications[0].organizationName}\r\n                applications={orgApplications}\r\n                noMargin={i === 0}\r\n              />\r\n            )\r\n          })}\r\n        </Container>\r\n      </Html>\r\n    </Tailwind>\r\n  )\r\n}\r\n\r\nfunction OrganizationSection({\r\n  orgName,\r\n  applications,\r\n  noMargin = false,\r\n}: {\r\n  orgName: string\r\n  applications: Application[]\r\n  noMargin?: boolean\r\n}) {\r\n  return (\r\n    <Section className={noMargin ? undefined : \"mt-8\"}>\r\n      <Heading as=\"h2\" className=\"leading-none font-semibold text-3xl my-4\">\r\n        {orgName}\r\n      </Heading>\r\n      {Object.entries(Object.groupBy(applications, a => a.jobListingId)).map(\r\n        ([jobListingId, listingApplications], i) => {\r\n          if (listingApplications == null || listingApplications.length === 0) {\r\n            return null\r\n          }\r\n\r\n          return (\r\n            <JobListingCard\r\n              key={jobListingId}\r\n              jobListingTitle={listingApplications[0].jobListingTitle}\r\n              applications={listingApplications}\r\n              noMargin={i === 0}\r\n            />\r\n          )\r\n        }\r\n      )}\r\n    </Section>\r\n  )\r\n}\r\n\r\nfunction JobListingCard({\r\n  jobListingTitle,\r\n  applications,\r\n  noMargin = false,\r\n}: {\r\n  jobListingTitle: string\r\n  applications: Application[]\r\n  noMargin?: boolean\r\n}) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"bg-card text-card-foreground rounded-lg border p-4 border-primary border-solid\",\r\n        !noMargin && \"mt-6\"\r\n      )}\r\n    >\r\n      <Heading as=\"h3\" className=\"leading-none font-semibold text-xl mt-0 mb-3\">\r\n        {jobListingTitle}\r\n      </Heading>\r\n      {applications.map((application, i) => (\r\n        <Text key={i} className=\"mt-2 mb-0\">\r\n          <span>{application.userName}: </span>\r\n          <RatingIcons rating={application.rating} />\r\n        </Text>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction RatingIcons({ rating }: { rating: number | null }) {\r\n  if (rating == null || rating < 1 || rating > 5) {\r\n    return \"Unrated\"\r\n  }\r\n\r\n  const stars: ReactNode[] = []\r\n  for (let i = 1; i <= 5; i++) {\r\n    stars.push(\r\n      <span key={i} className=\"w-3 -mb-[7px] mr-0.5\">\r\n        {rating >= i ? \"\" : \"\"}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  return stars\r\n}\r\n\r\nDailyApplicationEmail.PreviewProps = {\r\n  applications: [\r\n    {\r\n      organizationId: \"org-1\",\r\n      organizationName: \"Web Dev Simplified\",\r\n      jobListingId: \"job-listing-1\",\r\n      jobListingTitle: \"Software Engineer\",\r\n      rating: 2,\r\n      userName: \"Larry Cook\",\r\n    },\r\n    {\r\n      organizationId: \"org-1\",\r\n      organizationName: \"Web Dev Simplified\",\r\n      jobListingId: \"job-listing-1\",\r\n      jobListingTitle: \"Software Engineer\",\r\n      rating: 4,\r\n      userName: \"Jane Smith\",\r\n    },\r\n    {\r\n      organizationId: \"org-1\",\r\n      organizationName: \"Web Dev Simplified\",\r\n      jobListingId: \"job-listing-2\",\r\n      jobListingTitle: \"Backend Developer\",\r\n      rating: null,\r\n      userName: \"Jane Smith\",\r\n    },\r\n    {\r\n      organizationId: \"org-2\",\r\n      organizationName: \"Tech Innovations\",\r\n      jobListingId: \"job-listing-3\",\r\n      jobListingTitle: \"Frontend Developer\",\r\n      rating: 4,\r\n      userName: \"Jane Smith\",\r\n    },\r\n  ],\r\n  userName: \"John Doe\",\r\n} satisfies Parameters<typeof DailyApplicationEmail>[0]\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2000, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/functions/email.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { inngest } from \"../client\"\r\nimport { and, eq, gte } from \"drizzle-orm\"\r\nimport {\r\n  JobListingApplicationTable,\r\n  JobListingTable,\r\n  OrganizationUserSettingsTable,\r\n  UserNotificationSettingsTable,\r\n} from \"@/drizzle/schema\"\r\nimport { subDays } from \"date-fns\"\r\nimport { GetEvents } from \"inngest\"\r\nimport { getMatchingJobListings } from \"../ai/getMatchingJobListings\"\r\nimport { resend } from \"@/services/resend/client\"\r\nimport DailyJobListingEmail from \"@/services/resend/components/DailyJobListingEmail\"\r\nimport { env } from \"@/data/env/server\"\r\nimport DailyApplicationEmail from \"@/services/resend/components/DailyApplicationEmail\"\r\n\r\nexport const prepareDailyUserJobListingNotifications = inngest.createFunction(\r\n  {\r\n    id: \"prepare-daily-user-job-listing-notifications\",\r\n    name: \"Prepare Daily User Job Listing Notifications\",\r\n  },\r\n  {\r\n    cron: \"TZ=America/Chicago 0 7 * * *\",\r\n  },\r\n  async ({ step, event }) => {\r\n    const getUsers = step.run(\"get-users\", async () => {\r\n      return await db.query.UserNotificationSettingsTable.findMany({\r\n        where: eq(UserNotificationSettingsTable.newJobEmailNotifications, true),\r\n        columns: {\r\n          userId: true,\r\n          newJobEmailNotifications: true,\r\n          aiPrompt: true,\r\n        },\r\n        with: {\r\n          user: {\r\n            columns: {\r\n              email: true,\r\n              name: true,\r\n            },\r\n          },\r\n        },\r\n      })\r\n    })\r\n\r\n    const getJobListings = step.run(\"get-recent-job-listings\", async () => {\r\n      return await db.query.JobListingTable.findMany({\r\n        where: and(\r\n          gte(\r\n            JobListingTable.postedAt,\r\n            subDays(new Date(event.ts ?? Date.now()), 1)\r\n          ),\r\n          eq(JobListingTable.status, \"published\")\r\n        ),\r\n        columns: {\r\n          createdAt: false,\r\n          postedAt: false,\r\n          updatedAt: false,\r\n          status: false,\r\n          organizationId: false,\r\n        },\r\n        with: {\r\n          organization: {\r\n            columns: { name: true },\r\n          },\r\n        },\r\n      })\r\n    })\r\n\r\n    const [userNotifications, jobListings] = await Promise.all([\r\n      getUsers,\r\n      getJobListings,\r\n    ])\r\n\r\n    if (jobListings.length === 0 || userNotifications.length === 0) return\r\n\r\n    const events = userNotifications.map(notification => {\r\n      return {\r\n        name: \"app/email.daily-user-job-listings\",\r\n        user: {\r\n          email: notification.user.email,\r\n          name: notification.user.name,\r\n        },\r\n        data: {\r\n          aiPrompt: notification.aiPrompt ?? undefined,\r\n          jobListings: jobListings.map(listing => {\r\n            return {\r\n              ...listing,\r\n              organizationName: listing.organization.name,\r\n            }\r\n          }),\r\n        },\r\n      } as const satisfies GetEvents<\r\n        typeof inngest\r\n      >[\"app/email.daily-user-job-listings\"]\r\n    })\r\n\r\n    await step.sendEvent(\"send-emails\", events)\r\n  }\r\n)\r\n\r\nexport const sendDailyUserJobListingEmail = inngest.createFunction(\r\n  {\r\n    id: \"send-daily-user-job-listing-email\",\r\n    name: \"Send Daily User Job Listing Email\",\r\n    throttle: {\r\n      limit: 10,\r\n      period: \"1m\",\r\n    },\r\n  },\r\n  { event: \"app/email.daily-user-job-listings\" },\r\n  async ({ event, step }) => {\r\n    const { jobListings, aiPrompt } = event.data\r\n    const user = event.user\r\n\r\n    if (jobListings.length === 0) return\r\n\r\n    let matchingJobListings: typeof jobListings = []\r\n    if (aiPrompt == null || aiPrompt.trim() === \"\") {\r\n      matchingJobListings = jobListings\r\n    } else {\r\n      const matchingIds = await getMatchingJobListings(aiPrompt, jobListings)\r\n      matchingJobListings = jobListings.filter(listing =>\r\n        matchingIds.includes(listing.id)\r\n      )\r\n    }\r\n\r\n    if (matchingJobListings.length === 0) return\r\n\r\n    await step.run(\"send-email\", async () => {\r\n      await resend.emails.send({\r\n        from: \"Job Board <onboarding@resend.dev>\",\r\n        to: user.email,\r\n        subject: \"Daily Job Listings\",\r\n        react: DailyJobListingEmail({\r\n          jobListings,\r\n          userName: user.name,\r\n          serverUrl: env.SERVER_URL,\r\n        }),\r\n      })\r\n    })\r\n  }\r\n)\r\n\r\nexport const prepareDailyOrganizationUserApplicationNotifications =\r\n  inngest.createFunction(\r\n    {\r\n      id: \"prepare-daily-organization-user-application-notifications\",\r\n      name: \"Prepare Daily Organization User Application Notifications\",\r\n    },\r\n    { cron: \"TZ=America/Chicago 0 7 * * *\" },\r\n    async ({ step, event }) => {\r\n      const getUsers = step.run(\"get-user-settings\", async () => {\r\n        return await db.query.OrganizationUserSettingsTable.findMany({\r\n          where: eq(\r\n            OrganizationUserSettingsTable.newApplicationEmailNotifications,\r\n            true\r\n          ),\r\n          columns: {\r\n            userId: true,\r\n            organizationId: true,\r\n            newApplicationEmailNotifications: true,\r\n            minimumRating: true,\r\n          },\r\n          with: {\r\n            user: {\r\n              columns: {\r\n                email: true,\r\n                name: true,\r\n              },\r\n            },\r\n          },\r\n        })\r\n      })\r\n\r\n      const getApplications = step.run(\"get-recent-applications\", async () => {\r\n        return await db.query.JobListingApplicationTable.findMany({\r\n          where: and(\r\n            gte(\r\n              JobListingApplicationTable.createdAt,\r\n              subDays(new Date(event.ts ?? Date.now()), 1)\r\n            )\r\n          ),\r\n          columns: {\r\n            rating: true,\r\n          },\r\n          with: {\r\n            user: {\r\n              columns: {\r\n                name: true,\r\n              },\r\n            },\r\n            jobListing: {\r\n              columns: {\r\n                id: true,\r\n                title: true,\r\n              },\r\n              with: {\r\n                organization: {\r\n                  columns: {\r\n                    id: true,\r\n                    name: true,\r\n                  },\r\n                },\r\n              },\r\n            },\r\n          },\r\n        })\r\n      })\r\n\r\n      const [userNotifications, applications] = await Promise.all([\r\n        getUsers,\r\n        getApplications,\r\n      ])\r\n\r\n      if (applications.length === 0 || userNotifications.length === 0) return\r\n\r\n      const groupedNotifications = Object.groupBy(\r\n        userNotifications,\r\n        n => n.userId\r\n      )\r\n\r\n      const events = Object.entries(groupedNotifications)\r\n        .map(([, settings]) => {\r\n          if (settings == null || settings.length === 0) return null\r\n          const userName = settings[0].user.name\r\n          const userEmail = settings[0].user.email\r\n\r\n          const filteredApplications = applications\r\n            .filter(a => {\r\n              return settings.find(\r\n                s =>\r\n                  s.organizationId === a.jobListing.organization.id &&\r\n                  (s.minimumRating == null ||\r\n                    (a.rating ?? 0) >= s.minimumRating)\r\n              )\r\n            })\r\n            .map(a => ({\r\n              organizationId: a.jobListing.organization.id,\r\n              organizationName: a.jobListing.organization.name,\r\n              jobListingId: a.jobListing.id,\r\n              jobListingTitle: a.jobListing.title,\r\n              userName: a.user.name,\r\n              rating: a.rating,\r\n            }))\r\n\r\n          if (filteredApplications.length === 0) return null\r\n\r\n          return {\r\n            name: \"app/email.daily-organization-user-applications\",\r\n            user: {\r\n              name: userName,\r\n              email: userEmail,\r\n            },\r\n            data: { applications: filteredApplications },\r\n          } as const satisfies GetEvents<\r\n            typeof inngest\r\n          >[\"app/email.daily-organization-user-applications\"]\r\n        })\r\n        .filter(v => v != null)\r\n\r\n      await step.sendEvent(\"send-emails\", events)\r\n    }\r\n  )\r\n\r\nexport const sendDailyOrganizationUserApplicationEmail = inngest.createFunction(\r\n  {\r\n    id: \"send-daily-organization-user-application-email\",\r\n    name: \"Send Daily Organization User Application Email\",\r\n    throttle: {\r\n      limit: 1000,\r\n      period: \"1m\",\r\n    },\r\n  },\r\n  { event: \"app/email.daily-organization-user-applications\" },\r\n  async ({ event, step }) => {\r\n    const { applications } = event.data\r\n    const user = event.user\r\n    if (applications.length === 0) return\r\n\r\n    await step.run(\"send-email\", async () => {\r\n      await resend.emails.send({\r\n        from: \"Job Board <onboarding@resend.dev>\",\r\n        to: user.email,\r\n        subject: \"Daily Job Listing Applications\",\r\n        react: DailyApplicationEmail({\r\n          applications,\r\n          userName: user.name,\r\n        }),\r\n      })\r\n    })\r\n  }\r\n)\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2254, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/db/cache/jobListingApplications.ts"],"sourcesContent":["import { getGlobalTag, getIdTag, getJobListingTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getJobListingApplicationGlobalTag() {\r\n  return getGlobalTag(\"jobListingApplications\")\r\n}\r\n\r\nexport function getJobListingApplicationJobListingTag(jobListingId: string) {\r\n  return getJobListingTag(\"jobListingApplications\", jobListingId)\r\n}\r\n\r\nexport function getJobListingApplicationIdTag({\r\n  jobListingId,\r\n  userId,\r\n}: {\r\n  jobListingId: string\r\n  userId: string\r\n}) {\r\n  return getIdTag(\"jobListingApplications\", `${jobListingId}-${userId}`)\r\n}\r\n\r\nexport function revalidateJobListingApplicationCache(id: {\r\n  userId: string\r\n  jobListingId: string\r\n}) {\r\n  revalidateTag(getJobListingApplicationGlobalTag())\r\n  revalidateTag(getJobListingApplicationJobListingTag(id.jobListingId))\r\n  revalidateTag(getJobListingApplicationIdTag(id))\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,sCAAsC,YAAoB;IACxE,OAAO,CAAA,GAAA,yHAAA,CAAA,mBAAgB,AAAD,EAAE,0BAA0B;AACpD;AAEO,SAAS,8BAA8B,EAC5C,YAAY,EACZ,MAAM,EAIP;IACC,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,0BAA0B,GAAG,aAAa,CAAC,EAAE,QAAQ;AACvE;AAEO,SAAS,qCAAqC,EAGpD;IACC,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,sCAAsC,GAAG,YAAY;IACnE,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,8BAA8B;AAC9C","debugId":null}},
    {"offset": {"line": 2284, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/db/jobListingsApplications.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { JobListingApplicationTable } from \"@/drizzle/schema\"\r\nimport { revalidateJobListingApplicationCache } from \"./cache/jobListingApplications\"\r\nimport { and, eq } from \"drizzle-orm\"\r\n\r\nexport async function insertJobListingApplication(\r\n  application: typeof JobListingApplicationTable.$inferInsert\r\n) {\r\n  await db.insert(JobListingApplicationTable).values(application)\r\n\r\n  revalidateJobListingApplicationCache(application)\r\n}\r\n\r\nexport async function updateJobListingApplication(\r\n  {\r\n    jobListingId,\r\n    userId,\r\n  }: {\r\n    jobListingId: string\r\n    userId: string\r\n  },\r\n  data: Partial<typeof JobListingApplicationTable.$inferInsert>\r\n) {\r\n  await db\r\n    .update(JobListingApplicationTable)\r\n    .set(data)\r\n    .where(\r\n      and(\r\n        eq(JobListingApplicationTable.jobListingId, jobListingId),\r\n        eq(JobListingApplicationTable.userId, userId)\r\n      )\r\n    )\r\n\r\n  revalidateJobListingApplicationCache({ jobListingId, userId })\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,4BACpB,WAA2D;IAE3D,MAAM,sHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,mJAAA,CAAA,6BAA0B,EAAE,MAAM,CAAC;IAEnD,CAAA,GAAA,oLAAA,CAAA,uCAAoC,AAAD,EAAE;AACvC;AAEO,eAAe,4BACpB,EACE,YAAY,EACZ,MAAM,EAIP,EACD,IAA6D;IAE7D,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,mJAAA,CAAA,6BAA0B,EACjC,GAAG,CAAC,MACJ,KAAK,CACJ,CAAA,GAAA,oKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,mJAAA,CAAA,6BAA0B,CAAC,YAAY,EAAE,eAC5C,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,mJAAA,CAAA,6BAA0B,CAAC,MAAM,EAAE;IAI5C,CAAA,GAAA,oLAAA,CAAA,uCAAoC,AAAD,EAAE;QAAE;QAAc;IAAO;AAC9D","debugId":null}},
    {"offset": {"line": 2319, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/ai/applicantRankingAgent.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport { updateJobListingApplication } from \"@/features/jobListingApplications/db/jobListingsApplications\"\r\nimport { createAgent, createTool, openai } from \"@inngest/agent-kit\"\r\nimport { z } from \"zod\"\r\n\r\nconst saveApplicantRatingTool = createTool({\r\n  name: \"save-applicant-ranking\",\r\n  description:\r\n    \"Saves the applicant's ranking for a specific job listing in the database\",\r\n  parameters: z.object({\r\n    rating: z.number().int().max(5).min(1),\r\n    jobListingId: z.string(),\r\n    userId: z.string(),\r\n  }),\r\n  handler: async ({ jobListingId, rating, userId }) => {\r\n    await updateJobListingApplication({ jobListingId, userId }, { rating })\r\n\r\n    return \"Successfully saved applicant ranking score.\"\r\n  },\r\n})\r\n\r\nexport const applicantRankingAgent = createAgent({\r\n  name: \"Applicant Ranking Agent\",\r\n  description:\r\n    \"Agent for ranking job applicants for specific job listings based on their resume and cover letter.\",\r\n  system:\r\n    \"You are an expert at ranking job applicants for specific jobs based on their resume and cover letter. You will be provided with a user prompt that includes a user's id, resume and cover letter as well as the job listing they are applying for in JSON. Your task is to compare the job listing with the applicant's resume and cover letter and provide a rating for the applicant on how well they fit that specific job listing. The rating should be a number between 1 and 5, where 5 is the highest rating indicating a perfect or near perfect match. A rating 3 should be used for applicants that barely meet the requirements of the job listing, while a rating of 1 should be used for applicants that do not meet the requirements at all. You should save this user rating in the database and not return any output.\",\r\n  tools: [saveApplicantRatingTool],\r\n  model: openai({\r\n    model: \"qwen-turbo\",\r\n    apiKey: env.QWEN_API_KEY,\r\n    baseUrl: \"https://dashscope.aliyuncs.com/compatible-mode/v1\",\r\n}),\r\n})\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;;;;;;;;;AAEA,MAAM,0BAA0B,CAAA,GAAA,wKAAA,CAAA,aAAU,AAAD,EAAE;IACzC,MAAM;IACN,aACE;IACF,YAAY,mLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACnB,QAAQ,mLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QACpC,cAAc,mLAAA,CAAA,IAAC,CAAC,MAAM;QACtB,QAAQ,mLAAA,CAAA,IAAC,CAAC,MAAM;IAClB;IACA,SAAS,OAAO,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE;QAC9C,MAAM,CAAA,GAAA,4KAAA,CAAA,8BAA2B,AAAD,EAAE;YAAE;YAAc;QAAO,GAAG;YAAE;QAAO;QAErE,OAAO;IACT;AACF;AAEO,MAAM,wBAAwB,CAAA,GAAA,wKAAA,CAAA,cAAW,AAAD,EAAE;IAC/C,MAAM;IACN,aACE;IACF,QACE;IACF,OAAO;QAAC;KAAwB;IAChC,OAAO,CAAA,GAAA,+LAAA,CAAA,SAAM,AAAD,EAAE;QACZ,OAAO;QACP,QAAQ,8HAAA,CAAA,MAAG,CAAC,YAAY;QACxB,SAAS;IACb;AACA","debugId":null}},
    {"offset": {"line": 2375, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/functions/jobListingApplication.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { inngest } from \"../client\"\r\nimport { and, eq } from \"drizzle-orm\"\r\nimport {\r\n  JobListingApplicationTable,\r\n  JobListingTable,\r\n  UserResumeTable,\r\n} from \"@/drizzle/schema\"\r\nimport { applicantRankingAgent } from \"../ai/applicantRankingAgent\"\r\n\r\nexport const rankApplication = inngest.createFunction(\r\n  { id: \"rank-applicant\", name: \"Rank Applicant\" },\r\n  { event: \"app/jobListingApplication.created\" },\r\n  async ({ step, event }) => {\r\n    const { userId, jobListingId } = event.data\r\n\r\n    const getCoverLetter = step.run(\"get-cover-letter\", async () => {\r\n      const application = await db.query.JobListingApplicationTable.findFirst({\r\n        where: and(\r\n          eq(JobListingApplicationTable.userId, userId),\r\n          eq(JobListingApplicationTable.jobListingId, jobListingId)\r\n        ),\r\n        columns: { coverLetter: true },\r\n      })\r\n\r\n      return application?.coverLetter\r\n    })\r\n\r\n    const getResume = step.run(\"get-resume\", async () => {\r\n      const resume = await db.query.UserResumeTable.findFirst({\r\n        where: eq(UserResumeTable.userId, userId),\r\n        columns: { aiSummary: true },\r\n      })\r\n\r\n      return resume?.aiSummary\r\n    })\r\n\r\n    const getJobListing = step.run(\"get-job-listing\", async () => {\r\n      return await db.query.JobListingTable.findFirst({\r\n        where: eq(JobListingTable.id, jobListingId),\r\n        columns: {\r\n          id: true,\r\n          city: true,\r\n          description: true,\r\n          experienceLevel: true,\r\n          locationRequirement: true,\r\n          stateAbbreviation: true,\r\n          title: true,\r\n          wage: true,\r\n          wageInterval: true,\r\n          type: true,\r\n        },\r\n      })\r\n    })\r\n\r\n    const [coverLetter, resumeSummary, jobListing] = await Promise.all([\r\n      getCoverLetter,\r\n      getResume,\r\n      getJobListing,\r\n    ])\r\n\r\n    if (resumeSummary == null || jobListing == null) return\r\n\r\n    await applicantRankingAgent.run(\r\n      JSON.stringify({ coverLetter, resumeSummary, jobListingId, userId })\r\n    )\r\n  }\r\n)\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;AAEO,MAAM,kBAAkB,sIAAA,CAAA,UAAO,CAAC,cAAc,CACnD;IAAE,IAAI;IAAkB,MAAM;AAAiB,GAC/C;IAAE,OAAO;AAAoC,GAC7C,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;IACpB,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,IAAI;IAE3C,MAAM,iBAAiB,KAAK,GAAG,CAAC,oBAAoB;QAClD,MAAM,cAAc,MAAM,sHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,0BAA0B,CAAC,SAAS,CAAC;YACtE,OAAO,CAAA,GAAA,oKAAA,CAAA,MAAG,AAAD,EACP,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,mJAAA,CAAA,6BAA0B,CAAC,MAAM,EAAE,SACtC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,mJAAA,CAAA,6BAA0B,CAAC,YAAY,EAAE;YAE9C,SAAS;gBAAE,aAAa;YAAK;QAC/B;QAEA,OAAO,aAAa;IACtB;IAEA,MAAM,YAAY,KAAK,GAAG,CAAC,cAAc;QACvC,MAAM,SAAS,MAAM,sHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;YACtD,OAAO,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,wIAAA,CAAA,kBAAe,CAAC,MAAM,EAAE;YAClC,SAAS;gBAAE,WAAW;YAAK;QAC7B;QAEA,OAAO,QAAQ;IACjB;IAEA,MAAM,gBAAgB,KAAK,GAAG,CAAC,mBAAmB;QAChD,OAAO,MAAM,sHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;YAC9C,OAAO,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,wIAAA,CAAA,kBAAe,CAAC,EAAE,EAAE;YAC9B,SAAS;gBACP,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,iBAAiB;gBACjB,qBAAqB;gBACrB,mBAAmB;gBACnB,OAAO;gBACP,MAAM;gBACN,cAAc;gBACd,MAAM;YACR;QACF;IACF;IAEA,MAAM,CAAC,aAAa,eAAe,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;QACjE;QACA;QACA;KACD;IAED,IAAI,iBAAiB,QAAQ,cAAc,MAAM;IAEjD,MAAM,2JAAA,CAAA,wBAAqB,CAAC,GAAG,CAC7B,KAAK,SAAS,CAAC;QAAE;QAAa;QAAe;QAAc;IAAO;AAEtE","debugId":null}},
    {"offset": {"line": 2456, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/cache/userResumes.ts"],"sourcesContent":["import { getGlobalTag, getIdTag } from \"@/lib/dataCache\"\r\nimport { revalidateTag } from \"next/cache\"\r\n\r\nexport function getUserResumeGlobalTag() {\r\n  return getGlobalTag(\"userResumes\")\r\n}\r\n\r\nexport function getUserResumeIdTag(userId: string) {\r\n  return getIdTag(\"userResumes\", userId)\r\n}\r\n\r\nexport function revalidateUserResumeCache(userId: string) {\r\n  revalidateTag(getUserResumeGlobalTag())\r\n  revalidateTag(getUserResumeIdTag(userId))\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE;AACtB;AAEO,SAAS,mBAAmB,MAAc;IAC/C,OAAO,CAAA,GAAA,yHAAA,CAAA,WAAQ,AAAD,EAAE,eAAe;AACjC;AAEO,SAAS,0BAA0B,MAAc;IACtD,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE;IACd,CAAA,GAAA,+HAAA,CAAA,gBAAa,AAAD,EAAE,mBAAmB;AACnC","debugId":null}},
    {"offset": {"line": 2481, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/users/db/userResumes.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { UserResumeTable } from \"@/drizzle/schema\"\r\nimport { revalidateUserResumeCache } from \"./cache/userResumes\"\r\nimport { eq } from \"drizzle-orm\"\r\n\r\nexport async function upsertUserResume(\r\n  userId: string,\r\n  data: Omit<typeof UserResumeTable.$inferInsert, \"userId\">\r\n) {\r\n  await db\r\n    .insert(UserResumeTable)\r\n    .values({ userId, ...data })\r\n    .onConflictDoUpdate({\r\n      target: UserResumeTable.userId,\r\n      set: data,\r\n    })\r\n\r\n  revalidateUserResumeCache(userId)\r\n}\r\n\r\nexport async function updateUserResume(\r\n  userId: string,\r\n  data: Partial<Omit<typeof UserResumeTable.$inferInsert, \"userId\">>\r\n) {\r\n  await db\r\n    .update(UserResumeTable)\r\n    .set(data)\r\n    .where(eq(UserResumeTable.userId, userId))\r\n\r\n  revalidateUserResumeCache(userId)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,iBACpB,MAAc,EACd,IAAyD;IAEzD,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,wIAAA,CAAA,kBAAe,EACtB,MAAM,CAAC;QAAE;QAAQ,GAAG,IAAI;IAAC,GACzB,kBAAkB,CAAC;QAClB,QAAQ,wIAAA,CAAA,kBAAe,CAAC,MAAM;QAC9B,KAAK;IACP;IAEF,CAAA,GAAA,wJAAA,CAAA,4BAAyB,AAAD,EAAE;AAC5B;AAEO,eAAe,iBACpB,MAAc,EACd,IAAkE;IAElE,MAAM,sHAAA,CAAA,KAAE,CACL,MAAM,CAAC,wIAAA,CAAA,kBAAe,EACtB,GAAG,CAAC,MACJ,KAAK,CAAC,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,wIAAA,CAAA,kBAAe,CAAC,MAAM,EAAE;IAEpC,CAAA,GAAA,wJAAA,CAAA,4BAAyB,AAAD,EAAE;AAC5B","debugId":null}},
    {"offset": {"line": 2519, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/functions/resume.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { inngest } from \"../client\"\r\nimport { eq } from \"drizzle-orm\"\r\nimport { UserResumeTable } from \"@/drizzle/schema\"\r\nimport { env } from \"@/data/env/server\"\r\nimport { updateUserResume } from \"@/features/users/db/userResumes\"\r\n\r\nexport const createAiSummaryOfUploadedResume = inngest.createFunction(\r\n  {\r\n    id: \"create-ai-summary-of-uploaded-resume\",\r\n    name: \"Create AI Summary of Uploaded Resume\",\r\n  },\r\n  {\r\n    event: \"app/resume.uploaded\",\r\n  },\r\n  async ({ step, event }) => {\r\n    const { id: userId } = event.user\r\n\r\n    const userResume = await step.run(\"get-user-resume\", async () => {\r\n      return await db.query.UserResumeTable.findFirst({\r\n        where: eq(UserResumeTable.userId, userId),\r\n        columns: { resumeFileUrl: true },\r\n      })\r\n    })\r\n\r\n    if (userResume == null) return\r\n\r\n    const result = await step.ai.infer(\"create-ai-summary\", {\r\n      model: step.ai.models.openai({\r\n        model: \"qwen-turbo\",\r\n        apiKey: env.QWEN_API_KEY,\r\n        baseUrl: \"https://dashscope.aliyuncs.com/compatible-mode/v1\",\r\n      }),\r\n      body: {\r\n        messages: [\r\n          {\r\n            role: \"user\",\r\n/*             content: [\r\n              {\r\n                type: \"document\",\r\n                source: {\r\n                  type: \"url\",\r\n                  url: userResume.resumeFileUrl,\r\n                },\r\n              },\r\n              {\r\n                type: \"text\",\r\n                text: \"Summarize the following resume and extract all key skills, experience, and qualifications. The summary should include all the information that a hiring manager would need to know about the candidate in order to determine if they are a good fit for a job. This summary should be formatted as markdown. Do not return any other text. If the file does not look like a resume return the text 'N/A'.\",\r\n              },\r\n            ], */\r\n            content: `Here is the URL to the resume: ${userResume.resumeFileUrl}\\n\\nPlease summarize the resume at this URL and extract all key skills, experience, and qualifications. The summary should include all the information that a hiring manager would need to know... Do not return any other text. If the file does not look like a resume or the URL is inaccessible, return the text 'N/A'.`,          },\r\n        ],\r\n      },\r\n    })\r\n\r\n    /* await step.run(\"save-ai-summary\", async () => {\r\n      const message = result.content[0]\r\n      if (message.type !== \"text\") return\r\n\r\n      await updateUserResume(userId, { aiSummary: message.text })\r\n    }) */\r\n      await step.run(\"save-ai-summary\", async () => {\r\n        // \r\n        const messageContent = result.choices[0]?.message?.content;\r\n      \r\n        // \r\n        if (typeof messageContent !== \"string\") {\r\n          console.error(\"AI did not return a valid text response.\");\r\n          return;\r\n        }\r\n        \r\n        await updateUserResume(userId, { aiSummary: messageContent.trim() });\r\n      });\r\n  }\r\n)\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;AAEO,MAAM,kCAAkC,sIAAA,CAAA,UAAO,CAAC,cAAc,CACnE;IACE,IAAI;IACJ,MAAM;AACR,GACA;IACE,OAAO;AACT,GACA,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;IACpB,MAAM,EAAE,IAAI,MAAM,EAAE,GAAG,MAAM,IAAI;IAEjC,MAAM,aAAa,MAAM,KAAK,GAAG,CAAC,mBAAmB;QACnD,OAAO,MAAM,sHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;YAC9C,OAAO,CAAA,GAAA,oKAAA,CAAA,KAAE,AAAD,EAAE,wIAAA,CAAA,kBAAe,CAAC,MAAM,EAAE;YAClC,SAAS;gBAAE,eAAe;YAAK;QACjC;IACF;IAEA,IAAI,cAAc,MAAM;IAExB,MAAM,SAAS,MAAM,KAAK,EAAE,CAAC,KAAK,CAAC,qBAAqB;QACtD,OAAO,KAAK,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YAC3B,OAAO;YACP,QAAQ,8HAAA,CAAA,MAAG,CAAC,YAAY;YACxB,SAAS;QACX;QACA,MAAM;YACJ,UAAU;gBACR;oBACE,MAAM;oBAClB;;;;;;;;;;;;eAYe,GACH,SAAS,CAAC,+BAA+B,EAAE,WAAW,aAAa,CAAC,2TAA2T,CAAC;gBAAW;aAC9Y;QACH;IACF;IAEA;;;;;OAKG,GACD,MAAM,KAAK,GAAG,CAAC,mBAAmB;QAChC,iBAAiB;QACjB,MAAM,iBAAiB,OAAO,OAAO,CAAC,EAAE,EAAE,SAAS;QAEnD,UAAU;QACV,IAAI,OAAO,mBAAmB,UAAU;YACtC,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,MAAM,CAAA,GAAA,+IAAA,CAAA,mBAAgB,AAAD,EAAE,QAAQ;YAAE,WAAW,eAAe,IAAI;QAAG;IACpE;AACJ","debugId":null}},
    {"offset": {"line": 2608, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/app/api/inngest/route.ts"],"sourcesContent":["import { inngest } from \"@/services/inngest/client\"\r\nimport {\r\n  clerkCreateOrganization,\r\n  clerkCreateOrgMembership,\r\n  clerkCreateUser,\r\n  clerkDeleteOrganization,\r\n  clerkDeleteOrgMembership,\r\n  clerkDeleteUser,\r\n  clerkUpdateOrganization,\r\n  clerkUpdateUser,\r\n} from \"@/services/inngest/functions/clerk\"\r\nimport {                            \r\n  prepareDailyOrganizationUserApplicationNotifications,\r\n  prepareDailyUserJobListingNotifications,\r\n  sendDailyOrganizationUserApplicationEmail,\r\n  sendDailyUserJobListingEmail,\r\n} from \"@/services/inngest/functions/email\"\r\nimport { rankApplication } from \"@/services/inngest/functions/jobListingApplication\"\r\nimport { createAiSummaryOfUploadedResume } from \"@/services/inngest/functions/resume\"\r\nimport { serve } from \"inngest/next\"\r\n\r\nexport const { GET, POST, PUT } = serve({\r\n  client: inngest,\r\n  functions: [\r\n    clerkCreateUser,\r\n    clerkUpdateUser,\r\n    clerkDeleteUser,\r\n    clerkCreateOrganization,\r\n    clerkUpdateOrganization,\r\n    clerkDeleteOrganization,\r\n    clerkCreateOrgMembership,\r\n    clerkDeleteOrgMembership,\r\n    createAiSummaryOfUploadedResume,\r\n    rankApplication,\r\n    prepareDailyUserJobListingNotifications,\r\n    sendDailyUserJobListingEmail,\r\n    prepareDailyOrganizationUserApplicationNotifications,\r\n    sendDailyOrganizationUserApplicationEmail,\r\n  ],\r\n})\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAUA;AAMA;AACA;AACA;;;;;;;;;;;;;;AAEO,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,QAAK,AAAD,EAAE;IACtC,QAAQ,sIAAA,CAAA,UAAO;IACf,WAAW;QACT,kJAAA,CAAA,kBAAe;QACf,kJAAA,CAAA,kBAAe;QACf,kJAAA,CAAA,kBAAe;QACf,kJAAA,CAAA,0BAAuB;QACvB,kJAAA,CAAA,0BAAuB;QACvB,kJAAA,CAAA,0BAAuB;QACvB,kJAAA,CAAA,2BAAwB;QACxB,kJAAA,CAAA,2BAAwB;QACxB,mJAAA,CAAA,kCAA+B;QAC/B,kKAAA,CAAA,kBAAe;QACf,kJAAA,CAAA,0CAAuC;QACvC,kJAAA,CAAA,+BAA4B;QAC5B,kJAAA,CAAA,uDAAoD;QACpD,kJAAA,CAAA,4CAAyC;KAC1C;AACH","debugId":null}}]
}