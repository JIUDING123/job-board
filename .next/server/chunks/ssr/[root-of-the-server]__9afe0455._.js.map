{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ActionButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ActionButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call ActionButton() from the server but ActionButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ActionButton.tsx <module evaluation>\",\n    \"ActionButton\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,iEACA","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ActionButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ActionButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call ActionButton() from the server but ActionButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ActionButton.tsx\",\n    \"ActionButton\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,6CACA","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/markdown/MarkdownPartial.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MarkdownPartial = registerClientReference(\n    function() { throw new Error(\"Attempted to call MarkdownPartial() from the server but MarkdownPartial is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/markdown/MarkdownPartial.tsx <module evaluation>\",\n    \"MarkdownPartial\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,6EACA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/markdown/MarkdownPartial.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MarkdownPartial = registerClientReference(\n    function() { throw new Error(\"Attempted to call MarkdownPartial() from the server but MarkdownPartial is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/markdown/MarkdownPartial.tsx\",\n    \"MarkdownPartial\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,yDACA","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/markdown/MarkdownRenderer.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\r\nimport { MDXRemote, MDXRemoteProps } from \"next-mdx-remote/rsc\"\r\nimport remarkGfm from \"remark-gfm\"\r\n\r\nexport const markdownClassNames =\r\n  \"max-w-none prose prose-neutral dark:prose-invert font-sans\"\r\n\r\nexport function MarkdownRenderer({\r\n  className,\r\n  options,\r\n  ...props\r\n}: MDXRemoteProps & { className?: string }) {\r\n  return (\r\n    <div className={cn(markdownClassNames, className)}>\r\n      <MDXRemote\r\n        {...props}\r\n        options={{\r\n          mdxOptions: {\r\n            remarkPlugins: [\r\n              remarkGfm,\r\n              ...(options?.mdxOptions?.remarkPlugins ?? []),\r\n            ],\r\n            ...options?.mdxOptions,\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEO,MAAM,qBACX;AAEK,SAAS,iBAAiB,EAC/B,SAAS,EACT,OAAO,EACP,GAAG,OACqC;IACxC,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,oBAAoB;kBACrC,cAAA,8OAAC,wJAAA,CAAA,YAAS;YACP,GAAG,KAAK;YACT,SAAS;gBACP,YAAY;oBACV,eAAe;wBACb,6IAAA,CAAA,UAAS;2BACL,SAAS,YAAY,iBAAiB,EAAE;qBAC7C;oBACD,GAAG,SAAS,UAAU;gBACxB;YACF;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border font-medium w-fit whitespace-nowrap shrink-0 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n      size: {\r\n        sm: \"text-xs [&>svg]:size-3 px-2 py-0.5\",\r\n        md: \"text-sm [&>svg]:size-4 px-3 py-1\",\r\n        lg: \"text-base [&>svg]:size-5 px-4 py-1.5\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"md\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant, size }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,+WACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;QACA,MAAM;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;YAAS;QAAK,IAAI;QAC/C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ui/popover.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Popover = registerClientReference(\n    function() { throw new Error(\"Attempted to call Popover() from the server but Popover is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx <module evaluation>\",\n    \"Popover\",\n);\nexport const PopoverAnchor = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverAnchor() from the server but PopoverAnchor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx <module evaluation>\",\n    \"PopoverAnchor\",\n);\nexport const PopoverContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverContent() from the server but PopoverContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx <module evaluation>\",\n    \"PopoverContent\",\n);\nexport const PopoverTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverTrigger() from the server but PopoverTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx <module evaluation>\",\n    \"PopoverTrigger\",\n);\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,UAAU,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACzC;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,+DACA;AAEG,MAAM,gBAAgB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,+DACA;AAEG,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+DACA;AAEG,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+DACA","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ui/popover.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Popover = registerClientReference(\n    function() { throw new Error(\"Attempted to call Popover() from the server but Popover is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx\",\n    \"Popover\",\n);\nexport const PopoverAnchor = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverAnchor() from the server but PopoverAnchor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx\",\n    \"PopoverAnchor\",\n);\nexport const PopoverContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverContent() from the server but PopoverContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx\",\n    \"PopoverContent\",\n);\nexport const PopoverTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call PopoverTrigger() from the server but PopoverTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/popover.tsx\",\n    \"PopoverTrigger\",\n);\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,UAAU,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACzC;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,2CACA;AAEG,MAAM,gBAAgB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,2CACA;AAEG,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2CACA;AAEG,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2CACA","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ui/separator.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/separator.tsx <module evaluation>\",\n    \"Separator\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,iEACA","debugId":null}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/components/ui/separator.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/separator.tsx\",\n    \"Separator\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6CACA","debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/components/ApplicationTable.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ApplicationTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call ApplicationTable() from the server but ApplicationTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/jobListingApplications/components/ApplicationTable.tsx <module evaluation>\",\n    \"ApplicationTable\",\n);\nexport const SkeletonApplicationTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call SkeletonApplicationTable() from the server but SkeletonApplicationTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/jobListingApplications/components/ApplicationTable.tsx <module evaluation>\",\n    \"SkeletonApplicationTable\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,qGACA;AAEG,MAAM,2BAA2B,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,qGACA","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/components/ApplicationTable.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ApplicationTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call ApplicationTable() from the server but ApplicationTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/jobListingApplications/components/ApplicationTable.tsx\",\n    \"ApplicationTable\",\n);\nexport const SkeletonApplicationTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call SkeletonApplicationTable() from the server but SkeletonApplicationTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/jobListingApplications/components/ApplicationTable.tsx\",\n    \"SkeletonApplicationTable\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iFACA;AAEG,MAAM,2BAA2B,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,iFACA","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/actions/schemas.ts"],"sourcesContent":["import {\r\n  experienceLevels,\r\n  jobListingTypes,\r\n  locationRequirements,\r\n  wageIntervals,\r\n} from \"@/drizzle/schema\"\r\nimport { z } from \"zod\"\r\n\r\nexport const jobListingSchema = z\r\n  .object({\r\n    title: z.string().min(1, \"Required\"),\r\n    description: z.string().min(1, \"Required\"),\r\n    experienceLevel: z.enum(experienceLevels),\r\n    locationRequirement: z.enum(locationRequirements),\r\n    type: z.enum(jobListingTypes),\r\n    wage: z.number().int().positive().min(1).nullable(),\r\n    wageInterval: z.enum(wageIntervals).nullable(),\r\n    stateAbbreviation: z\r\n      .string()\r\n      .transform(val => (val.trim() === \"\" ? null : val))\r\n      .nullable(),\r\n    city: z\r\n      .string()\r\n      .transform(val => (val.trim() === \"\" ? null : val))\r\n      .nullable(),\r\n  })\r\n  .refine(\r\n    listing => {\r\n      return listing.locationRequirement === \"remote\" || listing.city != null\r\n    },\r\n    {\r\n      message: \"Required for non-remote listings\",\r\n      path: [\"city\"],\r\n    }\r\n  )\r\n  .refine(\r\n    listing => {\r\n      return (\r\n        listing.locationRequirement === \"remote\" ||\r\n        listing.stateAbbreviation != null\r\n      )\r\n    },\r\n    {\r\n      message: \"Required for non-remote listings\",\r\n      path: [\"stateAbbreviation\"],\r\n    }\r\n  )\r\n\r\nexport const jobListingAiSearchSchema = z.object({\r\n  query: z.string().min(1, \"Required\"),\r\n})\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAMA;AAAA;;;AAEO,MAAM,mBAAmB,iLAAA,CAAA,IAAC,CAC9B,MAAM,CAAC;IACN,OAAO,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,aAAa,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC/B,iBAAiB,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,mBAAgB;IACxC,qBAAqB,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,uBAAoB;IAChD,MAAM,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,kBAAe;IAC5B,MAAM,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC,GAAG,QAAQ;IACjD,cAAc,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,gBAAa,EAAE,QAAQ;IAC5C,mBAAmB,iLAAA,CAAA,IAAC,CACjB,MAAM,GACN,SAAS,CAAC,CAAA,MAAQ,IAAI,IAAI,OAAO,KAAK,OAAO,KAC7C,QAAQ;IACX,MAAM,iLAAA,CAAA,IAAC,CACJ,MAAM,GACN,SAAS,CAAC,CAAA,MAAQ,IAAI,IAAI,OAAO,KAAK,OAAO,KAC7C,QAAQ;AACb,GACC,MAAM,CACL,CAAA;IACE,OAAO,QAAQ,mBAAmB,KAAK,YAAY,QAAQ,IAAI,IAAI;AACrE,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAO;AAChB,GAED,MAAM,CACL,CAAA;IACE,OACE,QAAQ,mBAAmB,KAAK,YAChC,QAAQ,iBAAiB,IAAI;AAEjC,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAoB;AAC7B;AAGG,MAAM,2BAA2B,iLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/C,OAAO,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC3B","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/db/jobListings.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { JobListingTable } from \"@/drizzle/schema\"\r\nimport { revalidateJobListingCache } from \"./cache/jobListings\"\r\nimport { eq } from \"drizzle-orm\"\r\n\r\nexport async function insertJobListing(\r\n  jobListing: typeof JobListingTable.$inferInsert\r\n) {\r\n  const [newListing] = await db\r\n    .insert(JobListingTable)\r\n    .values(jobListing)\r\n    .returning({\r\n      id: JobListingTable.id,\r\n      organizationId: JobListingTable.organizationId,\r\n    })\r\n\r\n  revalidateJobListingCache(newListing)\r\n\r\n  return newListing\r\n}\r\n\r\nexport async function updateJobListing(\r\n  id: string,\r\n  jobListing: Partial<typeof JobListingTable.$inferInsert>\r\n) {\r\n  const [updatedListing] = await db\r\n    .update(JobListingTable)\r\n    .set(jobListing)\r\n    .where(eq(JobListingTable.id, id))\r\n    .returning({\r\n      id: JobListingTable.id,\r\n      organizationId: JobListingTable.organizationId,\r\n    })\r\n\r\n  revalidateJobListingCache(updatedListing)\r\n\r\n  return updatedListing\r\n}\r\n\r\nexport async function deleteJobListing(id: string) {\r\n  const [deletedJobListing] = await db\r\n    .delete(JobListingTable)\r\n    .where(eq(JobListingTable.id, id))\r\n    .returning({\r\n      id: JobListingTable.id,\r\n      organizationId: JobListingTable.organizationId,\r\n    })\r\n\r\n  revalidateJobListingCache(deletedJobListing)\r\n\r\n  return deletedJobListing\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,iBACpB,UAA+C;IAE/C,MAAM,CAAC,WAAW,GAAG,MAAM,oHAAA,CAAA,KAAE,CAC1B,MAAM,CAAC,sIAAA,CAAA,kBAAe,EACtB,MAAM,CAAC,YACP,SAAS,CAAC;QACT,IAAI,sIAAA,CAAA,kBAAe,CAAC,EAAE;QACtB,gBAAgB,sIAAA,CAAA,kBAAe,CAAC,cAAc;IAChD;IAEF,CAAA,GAAA,4JAAA,CAAA,4BAAyB,AAAD,EAAE;IAE1B,OAAO;AACT;AAEO,eAAe,iBACpB,EAAU,EACV,UAAwD;IAExD,MAAM,CAAC,eAAe,GAAG,MAAM,oHAAA,CAAA,KAAE,CAC9B,MAAM,CAAC,sIAAA,CAAA,kBAAe,EACtB,GAAG,CAAC,YACJ,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,EAAE,EAAE,KAC7B,SAAS,CAAC;QACT,IAAI,sIAAA,CAAA,kBAAe,CAAC,EAAE;QACtB,gBAAgB,sIAAA,CAAA,kBAAe,CAAC,cAAc;IAChD;IAEF,CAAA,GAAA,4JAAA,CAAA,4BAAyB,AAAD,EAAE;IAE1B,OAAO;AACT;AAEO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,CAAC,kBAAkB,GAAG,MAAM,oHAAA,CAAA,KAAE,CACjC,MAAM,CAAC,sIAAA,CAAA,kBAAe,EACtB,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,EAAE,EAAE,KAC7B,SAAS,CAAC;QACT,IAAI,sIAAA,CAAA,kBAAe,CAAC,EAAE;QACtB,gBAAgB,sIAAA,CAAA,kBAAe,CAAC,cAAc;IAChD;IAEF,CAAA,GAAA,4JAAA,CAAA,4BAAyB,AAAD,EAAE;IAE1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/clerk/lib/planFeatures.ts"],"sourcesContent":["import { auth } from \"@clerk/nextjs/server\"\r\n\r\ntype PlanFeature =\r\n  | \"post_1_job_listing\"\r\n  | \"post_3_job_listings\"\r\n  | \"post_15_job_listings\"\r\n  | \"unlimited_featured_jobs_listings\"\r\n  | \"1_featured_job_listing\"\r\n\r\nexport async function hasPlanFeature(feature: PlanFeature) {\r\n  const { has } = await auth()\r\n  return has({ feature })\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AASO,eAAe,eAAe,OAAoB;IACvD,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IACzB,OAAO,IAAI;QAAE;IAAQ;AACvB","debugId":null}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/lib/planfeatureHelpers.ts"],"sourcesContent":["import { getCurrentOrganization } from \"@/services/clerk/lib/getCurrentAuth\"\r\nimport { getJobListingOrganizationTag } from \"../db/cache/jobListings\"\r\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\r\nimport { db } from \"@/drizzle/db\"\r\nimport { JobListingTable } from \"@/drizzle/schema\"\r\nimport { and, count, eq } from \"drizzle-orm\"\r\nimport { hasPlanFeature } from \"@/services/clerk/lib/planFeatures\"\r\n\r\nexport async function hasReachedMaxPublishedJobListings() {\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return true\r\n\r\n  const count = await getPublishedJobListingsCount(orgId)\r\n\r\n  const canPost = await Promise.all([\r\n    hasPlanFeature(\"post_1_job_listing\").then(has => has && count < 1),\r\n    hasPlanFeature(\"post_3_job_listings\").then(has => has && count < 3),\r\n    hasPlanFeature(\"post_15_job_listings\").then(has => has && count < 15),\r\n  ])\r\n\r\n  return !canPost.some(Boolean)\r\n}\r\n\r\nexport async function hasReachedMaxFeaturedJobListings() {\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return true\r\n\r\n  const count = await getFeaturedJobListingsCount(orgId)\r\n\r\n  const canFeature = await Promise.all([\r\n    hasPlanFeature(\"1_featured_job_listing\").then(has => has && count < 1),\r\n    hasPlanFeature(\"unlimited_featured_jobs_listings\"),\r\n  ])\r\n\r\n  return !canFeature.some(Boolean)\r\n}\r\n\r\nasync function getPublishedJobListingsCount(orgId: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingOrganizationTag(orgId))\r\n\r\n  const [res] = await db\r\n    .select({ count: count() })\r\n    .from(JobListingTable)\r\n    .where(\r\n      and(\r\n        eq(JobListingTable.organizationId, orgId),\r\n        eq(JobListingTable.status, \"published\")\r\n      )\r\n    )\r\n  return res?.count ?? 0\r\n}\r\n\r\nasync function getFeaturedJobListingsCount(orgId: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingOrganizationTag(orgId))\r\n\r\n  const [res] = await db\r\n    .select({ count: count() })\r\n    .from(JobListingTable)\r\n    .where(\r\n      and(\r\n        eq(JobListingTable.organizationId, orgId),\r\n        eq(JobListingTable.isFeatured, true)\r\n      )\r\n    )\r\n  return res?.count ?? 0\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;;;;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,iJAAA,CAAA,yBAAsB,AAAD;IAC7C,IAAI,SAAS,MAAM,OAAO;IAE1B,MAAM,QAAQ,MAAM,6BAA6B;IAEjD,MAAM,UAAU,MAAM,QAAQ,GAAG,CAAC;QAChC,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE,sBAAsB,IAAI,CAAC,CAAA,MAAO,OAAO,QAAQ;QAChE,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE,uBAAuB,IAAI,CAAC,CAAA,MAAO,OAAO,QAAQ;QACjE,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE,wBAAwB,IAAI,CAAC,CAAA,MAAO,OAAO,QAAQ;KACnE;IAED,OAAO,CAAC,QAAQ,IAAI,CAAC;AACvB;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,iJAAA,CAAA,yBAAsB,AAAD;IAC7C,IAAI,SAAS,MAAM,OAAO;IAE1B,MAAM,QAAQ,MAAM,4BAA4B;IAEhD,MAAM,aAAa,MAAM,QAAQ,GAAG,CAAC;QACnC,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE,0BAA0B,IAAI,CAAC,CAAA,MAAO,OAAO,QAAQ;QACpE,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE;KAChB;IAED,OAAO,CAAC,WAAW,IAAI,CAAC;AAC1B;IAEA,6SAAA,eAAe,6BAA6B,KAAa;IAEvD,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,4JAAA,CAAA,+BAA4B,AAAD,EAAE;IAEtC,MAAM,CAAC,IAAI,GAAG,MAAM,oHAAA,CAAA,KAAE,CACnB,MAAM,CAAC;QAAE,OAAO,CAAA,GAAA,+JAAA,CAAA,QAAK,AAAD;IAAI,GACxB,IAAI,CAAC,sIAAA,CAAA,kBAAe,EACpB,KAAK,CACJ,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,cAAc,EAAE,QACnC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,MAAM,EAAE;IAGjC,OAAO,KAAK,SAAS;AACvB;;;;;IAde,+BAAf;IAgBA,6SAAA,eAAe,4BAA4B,KAAa;IAEtD,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,4JAAA,CAAA,+BAA4B,AAAD,EAAE;IAEtC,MAAM,CAAC,IAAI,GAAG,MAAM,oHAAA,CAAA,KAAE,CACnB,MAAM,CAAC;QAAE,OAAO,CAAA,GAAA,+JAAA,CAAA,QAAK,AAAD;IAAI,GACxB,IAAI,CAAC,sIAAA,CAAA,kBAAe,EACpB,KAAK,CACJ,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,cAAc,EAAE,QACnC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,UAAU,EAAE;IAGrC,OAAO,KAAK,SAAS;AACvB;;;;;IAde,8BAAf","debugId":null}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/ai/getLastOutputMessage.ts"],"sourcesContent":["import { AgentResult } from \"@inngest/agent-kit\"\r\n\r\nexport function getLastOutputMessage(result: AgentResult) {\r\n  console.log(\"Processing agent result:\", JSON.stringify(result, null, 2));\r\n  \r\n  const lastMessage = result.output.at(-1)\r\n  if (lastMessage == null) {\r\n    console.log(\"No last message found in output\");\r\n    return;\r\n  }\r\n  \r\n  console.log(\"Last message type:\", lastMessage.type);\r\n  \r\n  if (lastMessage.type !== \"text\") {\r\n    console.log(\"Last message is not text type\");\r\n    return;\r\n  }\r\n  \r\n  // Handle different content formats\r\n  if (typeof lastMessage.content === \"string\") {\r\n    const content = lastMessage.content.trim();\r\n    console.log(\"String content:\", content);\r\n    return content;\r\n  } else if (Array.isArray(lastMessage.content)) {\r\n    const content = lastMessage.content.join(\"\\n\").trim();\r\n    console.log(\"Array content joined:\", content);\r\n    return content;\r\n  } else {\r\n    console.log(\"Unexpected content format:\", lastMessage.content);\r\n    return;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,qBAAqB,MAAmB;IACtD,QAAQ,GAAG,CAAC,4BAA4B,KAAK,SAAS,CAAC,QAAQ,MAAM;IAErE,MAAM,cAAc,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;IACtC,IAAI,eAAe,MAAM;QACvB,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,QAAQ,GAAG,CAAC,sBAAsB,YAAY,IAAI;IAElD,IAAI,YAAY,IAAI,KAAK,QAAQ;QAC/B,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,mCAAmC;IACnC,IAAI,OAAO,YAAY,OAAO,KAAK,UAAU;QAC3C,MAAM,UAAU,YAAY,OAAO,CAAC,IAAI;QACxC,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,OAAO;IACT,OAAO,IAAI,MAAM,OAAO,CAAC,YAAY,OAAO,GAAG;QAC7C,MAAM,UAAU,YAAY,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI;QACnD,QAAQ,GAAG,CAAC,yBAAyB;QACrC,OAAO;IACT,OAAO;QACL,QAAQ,GAAG,CAAC,8BAA8B,YAAY,OAAO;QAC7D;IACF;AACF","debugId":null}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/services/inngest/ai/getMatchingJobListings.ts"],"sourcesContent":["import { env } from \"@/data/env/server\"\r\nimport {\r\n  experienceLevels,\r\n  jobListingTypes,\r\n  locationRequirements,\r\n  wageIntervals,\r\n} from \"@/drizzle/schema\"\r\nimport { createAgent, openai} from \"@inngest/agent-kit\"\r\nimport { z } from \"zod\"\r\nimport { getLastOutputMessage } from \"./getLastOutputMessage\"\r\n\r\nconst listingSchema = z.object({\r\n  id: z.string(),\r\n  title: z.string(),\r\n  description: z.string(),\r\n  wage: z.number().nullable(),\r\n  wageInterval: z.enum(wageIntervals).nullable(),\r\n  stateAbbreviation: z.string().nullable(),\r\n  city: z.string().nullable(),\r\n  experienceLevel: z.enum(experienceLevels),\r\n  type: z.enum(jobListingTypes),\r\n  locationRequirement: z.enum(locationRequirements),\r\n})\r\n\r\n\r\nexport async function getMatchingJobListings(\r\n  prompt: string,\r\n  jobListings: z.infer<typeof listingSchema>[],\r\n  { maxNumberOfJobs }: { maxNumberOfJobs?: number } = {}\r\n) {\r\n  const NO_JOBS = \"NO_JOBS\"\r\n  console.log(\"Gemini API Key Loaded:\", env.GEMINI_API_KEY ? \"Yes\" : \"No\");\r\n  const agent = createAgent({\r\n    name: \"Job Matching Agent\",\r\n    description: \"Agent for matching users with job listings\",\r\n    system: `You are an expert at matching people with jobs based on their specific experience, and requirements. The provided user prompt will be a description that includes information about themselves and their job requirements. ${\r\n      maxNumberOfJobs\r\n        ? `You are to return up to ${maxNumberOfJobs} jobs.`\r\n        : `Return all jobs that match their requirements.`\r\n    } \r\n        \r\n    Return the jobs as a comma separated list of jobIds. If you cannot find any jobs that match the user prompt, return the text \"${NO_JOBS}\". Here is the JSON array of available job listings: ${JSON.stringify(\r\n      jobListings.map(listing =>\r\n        listingSchema\r\n          .transform(listing => ({\r\n            ...listing,\r\n            wage: listing.wage ?? undefined,\r\n            wageInterval: listing.wageInterval ?? undefined,\r\n            city: listing.city ?? undefined,\r\n            stateAbbreviation: listing.stateAbbreviation ?? undefined,\r\n            locationRequirement: listing.locationRequirement ?? undefined,\r\n          }))\r\n          .parse(listing)\r\n      )\r\n    )}`,\r\n    model: openai({\r\n      model: \"qwen-turbo\",\r\n      apiKey: env.QWEN_API_KEY,\r\n      baseUrl: \"https://dashscope.aliyuncs.com/compatible-mode/v1\",\r\n    }),\r\n  })\r\n  const result = await agent.run(prompt)\r\n  const lastMessage = getLastOutputMessage(result)\r\n\r\n  if (lastMessage == null || lastMessage === NO_JOBS) return []\r\n\r\n  return lastMessage\r\n    .split(\",\")\r\n    .map(jobId => jobId.trim())\r\n    .filter(Boolean)\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;AAEA,MAAM,gBAAgB,iLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC7B,IAAI,iLAAA,CAAA,IAAC,CAAC,MAAM;IACZ,OAAO,iLAAA,CAAA,IAAC,CAAC,MAAM;IACf,aAAa,iLAAA,CAAA,IAAC,CAAC,MAAM;IACrB,MAAM,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACzB,cAAc,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,gBAAa,EAAE,QAAQ;IAC5C,mBAAmB,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACtC,MAAM,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IACzB,iBAAiB,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,mBAAgB;IACxC,MAAM,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,kBAAe;IAC5B,qBAAqB,iLAAA,CAAA,IAAC,CAAC,IAAI,CAAC,sIAAA,CAAA,uBAAoB;AAClD;AAGO,eAAe,uBACpB,MAAc,EACd,WAA4C,EAC5C,EAAE,eAAe,EAAgC,GAAG,CAAC,CAAC;IAEtD,MAAM,UAAU;IAChB,QAAQ,GAAG,CAAC,0BAA0B,4HAAA,CAAA,MAAG,CAAC,cAAc,GAAG,QAAQ;IACnE,MAAM,QAAQ,CAAA,GAAA,sKAAA,CAAA,cAAW,AAAD,EAAE;QACxB,MAAM;QACN,aAAa;QACb,QAAQ,CAAC,2NAA2N,EAClO,kBACI,CAAC,wBAAwB,EAAE,gBAAgB,MAAM,CAAC,GAClD,CAAC,8CAA8C,CAAC,CACrD;;kIAE6H,EAAE,QAAQ,qDAAqD,EAAE,KAAK,SAAS,CAC3M,YAAY,GAAG,CAAC,CAAA,UACd,cACG,SAAS,CAAC,CAAA,UAAW,CAAC;oBACrB,GAAG,OAAO;oBACV,MAAM,QAAQ,IAAI,IAAI;oBACtB,cAAc,QAAQ,YAAY,IAAI;oBACtC,MAAM,QAAQ,IAAI,IAAI;oBACtB,mBAAmB,QAAQ,iBAAiB,IAAI;oBAChD,qBAAqB,QAAQ,mBAAmB,IAAI;gBACtD,CAAC,GACA,KAAK,CAAC,YAEV;QACH,OAAO,CAAA,GAAA,6LAAA,CAAA,SAAM,AAAD,EAAE;YACZ,OAAO;YACP,QAAQ,4HAAA,CAAA,MAAG,CAAC,YAAY;YACxB,SAAS;QACX;IACF;IACA,MAAM,SAAS,MAAM,MAAM,GAAG,CAAC;IAC/B,MAAM,cAAc,CAAA,GAAA,wJAAA,CAAA,uBAAoB,AAAD,EAAE;IAEzC,IAAI,eAAe,QAAQ,gBAAgB,SAAS,OAAO,EAAE;IAE7D,OAAO,YACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAA,QAAS,MAAM,IAAI,IACvB,MAAM,CAAC;AACZ","debugId":null}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/actions/actions.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { z } from \"zod\"\r\nimport { jobListingAiSearchSchema, jobListingSchema } from \"./schemas\"\r\nimport {\r\n  getCurrentOrganization,\r\n  getCurrentUser,\r\n} from \"@/services/clerk/lib/getCurrentAuth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport {\r\n  insertJobListing,\r\n  updateJobListing as updateJobListingDb,\r\n  deleteJobListing as deleteJobListingDb,\r\n} from \"../db/jobListings\"\r\nimport { db } from \"@/drizzle/db\"\r\nimport { and, eq } from \"drizzle-orm\"\r\nimport { JobListingTable } from \"@/drizzle/schema\"\r\nimport {\r\n  getJobListingGlobalTag,\r\n  getJobListingIdTag,\r\n} from \"../db/cache/jobListings\"\r\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\r\nimport { hasOrgUserPermission } from \"@/services/clerk/lib/orgUserPermissions\"\r\nimport { getNextJobListingStatus } from \"../lib/utils\"\r\nimport {\r\n  hasReachedMaxFeaturedJobListings,\r\n  hasReachedMaxPublishedJobListings,\r\n} from \"../lib/planfeatureHelpers\"\r\nimport { getMatchingJobListings } from \"@/services/inngest/ai/getMatchingJobListings\"\r\n\r\nexport async function createJobListing(\r\n  unsafeData: z.infer<typeof jobListingSchema>\r\n) {\r\n  const { orgId } = await getCurrentOrganization()\r\n\r\n  if (\r\n    orgId == null ||\r\n    !(await hasOrgUserPermission(\"org:job_listings:create\"))\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to create a job listing\",\r\n    }\r\n  }\r\n\r\n  const { success, data } = jobListingSchema.safeParse(unsafeData)\r\n  console.log(\"data\", data)\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"There was an error creating your job listing\",\r\n    }\r\n  }\r\n\r\n  const jobListing = await insertJobListing({\r\n    ...data,\r\n    organizationId: orgId,\r\n    status: \"draft\",\r\n  })\r\n\r\n  redirect(`/employer/job-listings/${jobListing.id}`)\r\n}\r\n\r\nexport async function updateJobListing(\r\n  id: string,\r\n  unsafeData: z.infer<typeof jobListingSchema>\r\n) {\r\n  const { orgId } = await getCurrentOrganization()\r\n\r\n  if (\r\n    orgId == null ||\r\n    !(await hasOrgUserPermission(\"org:job_listings:update\"))\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to update this job listing\",\r\n    }\r\n  }\r\n\r\n  const { success, data } = jobListingSchema.safeParse(unsafeData)\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"There was an error updating your job listing\",\r\n    }\r\n  }\r\n\r\n  const jobListing = await getJobListing(id, orgId)\r\n  if (jobListing == null) {\r\n    return {\r\n      error: true,\r\n      message: \"There was an error updating your job listing\",\r\n    }\r\n  }\r\n\r\n  const updatedJobListing = await updateJobListingDb(id, data)\r\n\r\n  redirect(`/employer/job-listings/${updatedJobListing.id}`)\r\n}\r\n\r\nexport async function toggleJobListingStatus(id: string) {\r\n  const error = {\r\n    error: true,\r\n    message: \"You don't have permission to update this job listing's status\",\r\n  }\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return error\r\n\r\n  const jobListing = await getJobListing(id, orgId)\r\n  if (jobListing == null) return error\r\n\r\n  const newStatus = getNextJobListingStatus(jobListing.status)\r\n  if (\r\n    !(await hasOrgUserPermission(\"org:job_listings:change_status\")) ||\r\n    (newStatus === \"published\" && (await hasReachedMaxPublishedJobListings()))\r\n  ) {\r\n    return error\r\n  }\r\n\r\n  await updateJobListingDb(id, {\r\n    status: newStatus,\r\n    isFeatured: newStatus === \"published\" ? undefined : false,\r\n    postedAt:\r\n      newStatus === \"published\" && jobListing.postedAt == null\r\n        ? new Date()\r\n        : undefined,\r\n  })\r\n\r\n  return { error: false }\r\n}\r\n\r\nexport async function toggleJobListingFeatured(id: string) {\r\n  const error = {\r\n    error: true,\r\n    message:\r\n      \"You don't have permission to update this job listing's featured status\",\r\n  }\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return error\r\n\r\n  const jobListing = await getJobListing(id, orgId)\r\n  if (jobListing == null) return error\r\n\r\n  const newFeaturedStatus = !jobListing.isFeatured\r\n  if (\r\n    !(await hasOrgUserPermission(\"org:job_listings:change_status\")) ||\r\n    (newFeaturedStatus && (await hasReachedMaxFeaturedJobListings()))\r\n  ) {\r\n    return error\r\n  }\r\n\r\n  await updateJobListingDb(id, {\r\n    isFeatured: newFeaturedStatus,\r\n  })\r\n\r\n  return { error: false }\r\n}\r\n\r\nexport async function deleteJobListing(id: string) {\r\n  const error = {\r\n    error: true,\r\n    message: \"You don't have permission to delete this job listing\",\r\n  }\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return error\r\n\r\n  const jobListing = await getJobListing(id, orgId)\r\n  if (jobListing == null) return error\r\n\r\n  if (!(await hasOrgUserPermission(\"org:job_listings:delete\"))) {\r\n    return error\r\n  }\r\n\r\n  await deleteJobListingDb(id)\r\n\r\n  redirect(\"/employer\")\r\n}\r\n\r\n/* export async function getAiJobListingSearchResults(\r\n  unsafe: z.infer<typeof jobListingAiSearchSchema>\r\n): Promise<\r\n  { error: true; message: string } | { error: false; jobIds: string[] }\r\n> {  \r\n  const { success, data } = jobListingAiSearchSchema.safeParse(unsafe)\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"There was an error processing your search query\",\r\n    }\r\n  }\r\n\r\n  const { userId } = await getCurrentUser()\r\n  if (userId == null) {\r\n    return {\r\n      error: true,\r\n      message: \"You need an account to use AI job search\",\r\n    }\r\n  }\r\n\r\n  const allListings = await getPublicJobListings()\r\n    \r\n  // If no published job listings exist, return early\r\n  if (allListings.length === 0) {\r\n    return {\r\n      error: true,\r\n      message: \"No published job listings found in the system\",\r\n    }\r\n  }\r\n  \r\n  try {\r\n    const matchedListings = await getMatchingJobListings(\r\n      data.query,\r\n      allListings,\r\n      {\r\n        maxNumberOfJobs: 10,\r\n      }\r\n    )\r\n    \r\n\r\n    if ( matchedListings.length === 0) {\r\n      return {\r\n        error: true,\r\n        message: \"No jobs match your search criteria\",\r\n      }\r\n    }\r\n\r\n    return { error: false, jobIds: matchedListings }\r\n  } catch (error) {\r\n    // Provide more detailed error message for debugging\r\n    let errorMessage = \"There was an error processing your search. Please try again.\";\r\n    \r\n    if (error instanceof Error) {\r\n      // In development, show the actual error message\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errorMessage = `Error: ${error.message}`;\r\n      }\r\n      \r\n      // Log the full error for debugging\r\n      console.error(\"Full error details:\", {\r\n        message: error.message,\r\n        stack: error.stack,\r\n        name: error.name\r\n      });\r\n    }\r\n    \r\n    return {\r\n      error: true,\r\n      message: errorMessage,\r\n    }\r\n  }\r\n} */\r\n\r\n  export async function getAiJobListingSearchResults(\r\n    unsafe: z.infer<typeof jobListingAiSearchSchema>\r\n  ): Promise<\r\n    { error: true; message: string } | { error: false; jobIds: string[] }\r\n  > {\r\n    const { success, data } = jobListingAiSearchSchema.safeParse(unsafe)\r\n    if (!success) {\r\n      return {\r\n        error: true,\r\n        message: \"There was an error processing your search query\",\r\n      }\r\n    }\r\n  \r\n    const { userId } = await getCurrentUser()\r\n    if (userId == null) {\r\n      return {\r\n        error: true,\r\n        message: \"You need an account to use AI job search\",\r\n      }\r\n    }\r\n  \r\n    const allListings = await getPublicJobListings()\r\n    const matchedListings = await getMatchingJobListings(\r\n      data.query,\r\n      allListings,\r\n      {\r\n        maxNumberOfJobs: 10,\r\n      }\r\n    )\r\n    console.log(\"matchedListings\", matchedListings)\r\n    if (matchedListings.length === 0) {\r\n      return {\r\n        error: true,\r\n        message: \"No jobs match your search criteria\",\r\n      }\r\n    }\r\n  \r\n    return { error: false, jobIds: matchedListings }\r\n  }\r\n  \r\nasync function getJobListing(id: string, orgId: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingIdTag(id))\r\n\r\n  return db.query.JobListingTable.findFirst({\r\n    where: and(\r\n      eq(JobListingTable.id, id),\r\n      eq(JobListingTable.organizationId, orgId)\r\n    ),\r\n  })\r\n}\r\n\r\nasync function getPublicJobListings() {\r\n  \"use cache\"\r\n  cacheTag(getJobListingGlobalTag())\r\n\r\n  return db.query.JobListingTable.findMany({\r\n    where: eq(JobListingTable.status, \"published\"),\r\n  })\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/lib/formatters.ts"],"sourcesContent":["import {\r\n  ExperienceLevel,\r\n  JobListingStatus,\r\n  JobListingType,\r\n  LocationRequirement,\r\n  WageInterval,\r\n} from \"@/drizzle/schema\"\r\n\r\nexport function formatWageInterval(interval: WageInterval) {\r\n  switch (interval) {\r\n    case \"hourly\":\r\n      return \"Hour\"\r\n    case \"yearly\":\r\n      return \"Year\"\r\n    default:\r\n      throw new Error(`Invalid wage interval: ${interval satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatLocationRequirement(\r\n  locationRequirement: LocationRequirement\r\n) {\r\n  switch (locationRequirement) {\r\n    case \"remote\":\r\n      return \"Remote\"\r\n    case \"in-office\":\r\n      return \"In Office\"\r\n    case \"hybrid\":\r\n      return \"Hybrid\"\r\n    default:\r\n      throw new Error(\r\n        `Unknown location requirement: ${locationRequirement satisfies never}`\r\n      )\r\n  }\r\n}\r\n\r\nexport function formatExperienceLevel(experienceLevel: ExperienceLevel) {\r\n  switch (experienceLevel) {\r\n    case \"junior\":\r\n      return \"Junior\"\r\n    case \"mid-level\":\r\n      return \"Mid Level\"\r\n    case \"senior\":\r\n      return \"Senior\"\r\n    default:\r\n      throw new Error(\r\n        `Unknown experience level: ${experienceLevel satisfies never}`\r\n      )\r\n  }\r\n}\r\n\r\nexport function formatJobType(type: JobListingType) {\r\n  switch (type) {\r\n    case \"full-time\":\r\n      return \"Full Time\"\r\n    case \"part-time\":\r\n      return \"Part Time\"\r\n    case \"internship\":\r\n      return \"Internship\"\r\n    default:\r\n      throw new Error(`Unknown job type: ${type satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatJobListingStatus(status: JobListingStatus) {\r\n  switch (status) {\r\n    case \"published\":\r\n      return \"Active\"\r\n    case \"draft\":\r\n      return \"Draft\"\r\n    case \"delisted\":\r\n      return \"Delisted\"\r\n    default:\r\n      throw new Error(`Unknown status: ${status satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatWage(wage: number, wageInterval: WageInterval) {\r\n  const wageFormatter = new Intl.NumberFormat(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n    minimumFractionDigits: 0,\r\n  })\r\n\r\n  switch (wageInterval) {\r\n    case \"hourly\": {\r\n      return `${wageFormatter.format(wage)} / hr`\r\n    }\r\n    case \"yearly\": {\r\n      return wageFormatter.format(wage)\r\n    }\r\n    default:\r\n      throw new Error(`Unknown wage interval: ${wageInterval satisfies never}`)\r\n  }\r\n}\r\n\r\nexport function formatJobListingLocation({\r\n  stateAbbreviation,\r\n  city,\r\n}: {\r\n  stateAbbreviation: string | null\r\n  city: string | null\r\n}) {\r\n  if (stateAbbreviation == null && city == null) return \"None\"\r\n\r\n  const locationParts = []\r\n  if (city != null) locationParts.push(city)\r\n  if (stateAbbreviation != null) {\r\n    locationParts.push(stateAbbreviation.toUpperCase())\r\n  }\r\n\r\n  return locationParts.join(\", \")\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAQO,SAAS,mBAAmB,QAAsB;IACvD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,UAA0B;IACxE;AACF;AAEO,SAAS,0BACd,mBAAwC;IAExC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MACR,CAAC,8BAA8B,EAAE,qBAAqC;IAE5E;AACF;AAEO,SAAS,sBAAsB,eAAgC;IACpE,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MACR,CAAC,0BAA0B,EAAE,iBAAiC;IAEpE;AACF;AAEO,SAAS,cAAc,IAAoB;IAChD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,MAAsB;IAC/D;AACF;AAEO,SAAS,uBAAuB,MAAwB;IAC7D,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,QAAwB;IAC/D;AACF;AAEO,SAAS,WAAW,IAAY,EAAE,YAA0B;IACjE,MAAM,gBAAgB,IAAI,KAAK,YAAY,CAAC,SAAS;QACnD,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB;IAEA,OAAQ;QACN,KAAK;YAAU;gBACb,OAAO,GAAG,cAAc,MAAM,CAAC,MAAM,KAAK,CAAC;YAC7C;QACA,KAAK;YAAU;gBACb,OAAO,cAAc,MAAM,CAAC;YAC9B;QACA;YACE,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,cAA8B;IAC5E;AACF;AAEO,SAAS,yBAAyB,EACvC,iBAAiB,EACjB,IAAI,EAIL;IACC,IAAI,qBAAqB,QAAQ,QAAQ,MAAM,OAAO;IAEtD,MAAM,gBAAgB,EAAE;IACxB,IAAI,QAAQ,MAAM,cAAc,IAAI,CAAC;IACrC,IAAI,qBAAqB,MAAM;QAC7B,cAAc,IAAI,CAAC,kBAAkB,WAAW;IAClD;IAEA,OAAO,cAAc,IAAI,CAAC;AAC5B","debugId":null}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListings/components/JobListingBadges.tsx"],"sourcesContent":["import { Badge } from \"@/components/ui/badge\"\r\nimport { JobListingTable } from \"@/drizzle/schema\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { ComponentProps } from \"react\"\r\nimport {\r\n  formatExperienceLevel,\r\n  formatJobListingLocation,\r\n  formatJobType,\r\n  formatLocationRequirement,\r\n  formatWage,\r\n} from \"../lib/formatters\"\r\nimport {\r\n  BanknoteIcon,\r\n  BuildingIcon,\r\n  GraduationCapIcon,\r\n  HourglassIcon,\r\n  MapPinIcon,\r\n} from \"lucide-react\"\r\n\r\nexport function JobListingBadges({\r\n  jobListing: {\r\n    wage,\r\n    wageInterval,\r\n    stateAbbreviation,\r\n    city,\r\n    type,\r\n    experienceLevel,\r\n    locationRequirement,\r\n    isFeatured,\r\n  },\r\n  className,\r\n}: {\r\n  jobListing: Pick<\r\n    typeof JobListingTable.$inferSelect,\r\n    | \"wage\"\r\n    | \"wageInterval\"\r\n    | \"stateAbbreviation\"\r\n    | \"city\"\r\n    | \"type\"\r\n    | \"experienceLevel\"\r\n    | \"locationRequirement\"\r\n    | \"isFeatured\"\r\n  >\r\n  className?: string\r\n}) {\r\n  const badgeProps = {\r\n    variant: \"outline\",\r\n    className,\r\n  } satisfies ComponentProps<typeof Badge>\r\n\r\n  return (\r\n    <>\r\n      {isFeatured && (\r\n        <Badge\r\n          {...badgeProps}\r\n          className={cn(\r\n            className,\r\n            \"border-featured bg-featured/50 text-featured-foreground\"\r\n          )}\r\n        >\r\n          Featured\r\n        </Badge>\r\n      )}\r\n      {wage != null && wageInterval != null && (\r\n        <Badge {...badgeProps}>\r\n          <BanknoteIcon />\r\n          {formatWage(wage, wageInterval)}\r\n        </Badge>\r\n      )}\r\n      {(stateAbbreviation != null || city != null) && (\r\n        <Badge {...badgeProps}>\r\n          <MapPinIcon className=\"size-10\" />\r\n          {formatJobListingLocation({ stateAbbreviation, city })}\r\n        </Badge>\r\n      )}\r\n      <Badge {...badgeProps}>\r\n        <BuildingIcon />\r\n        {formatLocationRequirement(locationRequirement)}\r\n      </Badge>\r\n      <Badge {...badgeProps}>\r\n        <HourglassIcon />\r\n        {formatJobType(type)}\r\n      </Badge>\r\n      <Badge {...badgeProps}>\r\n        <GraduationCapIcon />\r\n        {formatExperienceLevel(experienceLevel)}\r\n      </Badge>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;;;;;;AAQO,SAAS,iBAAiB,EAC/B,YAAY,EACV,IAAI,EACJ,YAAY,EACZ,iBAAiB,EACjB,IAAI,EACJ,IAAI,EACJ,eAAe,EACf,mBAAmB,EACnB,UAAU,EACX,EACD,SAAS,EAcV;IACC,MAAM,aAAa;QACjB,SAAS;QACT;IACF;IAEA,qBACE;;YACG,4BACC,8OAAC,iIAAA,CAAA,QAAK;gBACH,GAAG,UAAU;gBACd,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,WACA;0BAEH;;;;;;YAIF,QAAQ,QAAQ,gBAAgB,sBAC/B,8OAAC,iIAAA,CAAA,QAAK;gBAAE,GAAG,UAAU;;kCACnB,8OAAC,8MAAA,CAAA,eAAY;;;;;oBACZ,CAAA,GAAA,mJAAA,CAAA,aAAU,AAAD,EAAE,MAAM;;;;;;;YAGrB,CAAC,qBAAqB,QAAQ,QAAQ,IAAI,mBACzC,8OAAC,iIAAA,CAAA,QAAK;gBAAE,GAAG,UAAU;;kCACnB,8OAAC,8MAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBACrB,CAAA,GAAA,mJAAA,CAAA,2BAAwB,AAAD,EAAE;wBAAE;wBAAmB;oBAAK;;;;;;;0BAGxD,8OAAC,iIAAA,CAAA,QAAK;gBAAE,GAAG,UAAU;;kCACnB,8OAAC,8MAAA,CAAA,eAAY;;;;;oBACZ,CAAA,GAAA,mJAAA,CAAA,4BAAyB,AAAD,EAAE;;;;;;;0BAE7B,8OAAC,iIAAA,CAAA,QAAK;gBAAE,GAAG,UAAU;;kCACnB,8OAAC,gNAAA,CAAA,gBAAa;;;;;oBACb,CAAA,GAAA,mJAAA,CAAA,gBAAa,AAAD,EAAE;;;;;;;0BAEjB,8OAAC,iIAAA,CAAA,QAAK;gBAAE,GAAG,UAAU;;kCACnB,8OAAC,4NAAA,CAAA,oBAAiB;;;;;oBACjB,CAAA,GAAA,mJAAA,CAAA,wBAAqB,AAAD,EAAE;;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/app/employer/job-listings/%5BjobListingId%5D/page.tsx"],"sourcesContent":["import { ActionButton } from \"@/components/ActionButton\"\r\nimport { AsyncIf } from \"@/components/AsyncIf\"\r\nimport { MarkdownPartial } from \"@/components/markdown/MarkdownPartial\"\r\nimport { MarkdownRenderer } from \"@/components/markdown/MarkdownRenderer\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { db } from \"@/drizzle/db\"\r\nimport {\r\n  JobListingApplicationTable,\r\n  JobListingStatus,\r\n  JobListingTable,\r\n} from \"@/drizzle/schema\"\r\nimport {\r\n  ApplicationTable,\r\n  SkeletonApplicationTable,\r\n} from \"@/features/jobListingApplications/components/ApplicationTable\"\r\nimport { getJobListingApplicationJobListingTag } from \"@/features/jobListingApplications/db/cache/jobListingApplications\"\r\nimport {\r\n  deleteJobListing,\r\n  toggleJobListingFeatured,\r\n  toggleJobListingStatus,\r\n} from \"@/features/jobListings/actions/actions\"\r\nimport { JobListingBadges } from \"@/features/jobListings/components/JobListingBadges\"\r\nimport { getJobListingIdTag } from \"@/features/jobListings/db/cache/jobListings\"\r\nimport { formatJobListingStatus } from \"@/features/jobListings/lib/formatters\"\r\nimport {\r\n  hasReachedMaxFeaturedJobListings,\r\n  hasReachedMaxPublishedJobListings,\r\n} from \"@/features/jobListings/lib/planfeatureHelpers\"\r\nimport { getNextJobListingStatus } from \"@/features/jobListings/lib/utils\"\r\nimport { getUserResumeIdTag } from \"@/features/users/db/cache/userResumes\"\r\nimport { getUserIdTag } from \"@/features/users/db/cache/users\"\r\nimport { getCurrentOrganization } from \"@/services/clerk/lib/getCurrentAuth\"\r\nimport { hasOrgUserPermission } from \"@/services/clerk/lib/orgUserPermissions\"\r\nimport { Action } from \"@mdxeditor/editor\"\r\nimport { and, eq } from \"drizzle-orm\"\r\nimport {\r\n  EditIcon,\r\n  EyeIcon,\r\n  EyeOffIcon,\r\n  StarIcon,\r\n  StarOffIcon,\r\n  Trash2Icon,\r\n} from \"lucide-react\"\r\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\r\nimport Link from \"next/link\"\r\nimport { notFound } from \"next/navigation\"\r\nimport { ReactNode, Suspense } from \"react\"\r\n\r\ntype Props = {\r\n  params: Promise<{ jobListingId: string }>\r\n}\r\n\r\nexport default function JobListingPage(props: Props) {\r\n  return (\r\n    <Suspense>\r\n      <SuspendedPage {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nasync function SuspendedPage({ params }: Props) {\r\n  const { orgId } = await getCurrentOrganization()\r\n  if (orgId == null) return null\r\n\r\n  const { jobListingId } = await params\r\n  const jobListing = await getJobListing(jobListingId, orgId)\r\n  if (jobListing == null) return notFound()\r\n\r\n  return (\r\n    <div className=\"space-y-6 max-w-6xl mx-auto p-4 @container\">\r\n      <div className=\"flex items-center justify-between gap-4 @max-4xl:flex-col @max-4xl:items-start\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold tracking-tight\">\r\n            {jobListing.title}\r\n          </h1>\r\n          <div className=\"flex flex-wrap gap-2 mt-2\">\r\n            <Badge>{formatJobListingStatus(jobListing.status)}</Badge>\r\n            <JobListingBadges jobListing={jobListing} />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 empty:-mt-4\">\r\n          <AsyncIf\r\n            condition={() => hasOrgUserPermission(\"org:job_listings:update\")}\r\n          >\r\n            <Button asChild variant=\"outline\">\r\n              <Link href={`/employer/job-listings/${jobListing.id}/edit`}>\r\n                <EditIcon className=\"size-4\" />\r\n                Edit\r\n              </Link>\r\n            </Button>\r\n          </AsyncIf>\r\n          <StatusUpdateButton status={jobListing.status} id={jobListing.id} />\r\n          {jobListing.status === \"published\" && (\r\n            <FeaturedToggleButton\r\n              isFeatured={jobListing.isFeatured}\r\n              id={jobListing.id}\r\n            />\r\n          )}\r\n          <AsyncIf\r\n            condition={() => hasOrgUserPermission(\"org:job_listings:delete\")}\r\n          >\r\n            <ActionButton\r\n              variant=\"destructive\"\r\n              action={deleteJobListing.bind(null, jobListing.id)}\r\n              requireAreYouSure\r\n            >\r\n              <Trash2Icon className=\"size-4\" />\r\n              Delete\r\n            </ActionButton>\r\n          </AsyncIf>\r\n        </div>\r\n      </div>\r\n\r\n      <MarkdownPartial\r\n        dialogMarkdown={<MarkdownRenderer source={jobListing.description} />}\r\n        mainMarkdown={\r\n          <MarkdownRenderer\r\n            className=\"prose-sm\"\r\n            source={jobListing.description}\r\n          />\r\n        }\r\n        dialogTitle=\"Description\"\r\n      />\r\n\r\n      <Separator />\r\n\r\n      <div className=\"space-y-6\">\r\n        <h2 className=\"text-xl font-semibold\">Applications</h2>\r\n        <Suspense fallback={<SkeletonApplicationTable />}>\r\n          <Applications jobListingId={jobListingId} />\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StatusUpdateButton({\r\n  status,\r\n  id,\r\n}: {\r\n  status: JobListingStatus\r\n  id: string\r\n}) {\r\n  const button = (\r\n    <ActionButton\r\n      action={toggleJobListingStatus.bind(null, id)}\r\n      variant=\"outline\"\r\n      requireAreYouSure={getNextJobListingStatus(status) === \"published\"}\r\n      areYouSureDescription=\"This will immediately show this job listing to all users.\"\r\n    >\r\n      {statusToggleButtonText(status)}\r\n    </ActionButton>\r\n  )\r\n\r\n  return (\r\n    <AsyncIf\r\n      condition={() => hasOrgUserPermission(\"org:job_listings:change_status\")}\r\n    >\r\n      {getNextJobListingStatus(status) === \"published\" ? (\r\n        <AsyncIf\r\n          condition={async () => {\r\n            const isMaxed = await hasReachedMaxPublishedJobListings()\r\n            return !isMaxed\r\n          }}\r\n          otherwise={\r\n            <UpgradePopover\r\n              buttonText={statusToggleButtonText(status)}\r\n              popoverText=\"You must upgrade your plan to publish more job listings.\"\r\n            />\r\n          }\r\n        >\r\n          {button}\r\n        </AsyncIf>\r\n      ) : (\r\n        button\r\n      )}\r\n    </AsyncIf>\r\n  )\r\n}\r\n\r\nfunction FeaturedToggleButton({\r\n  isFeatured,\r\n  id,\r\n}: {\r\n  isFeatured: boolean\r\n  id: string\r\n}) {\r\n  const button = (\r\n    <ActionButton\r\n      action={toggleJobListingFeatured.bind(null, id)}\r\n      variant=\"outline\"\r\n    >\r\n      {featuredToggleButtonText(isFeatured)}\r\n    </ActionButton>\r\n  )\r\n\r\n  return (\r\n    <AsyncIf\r\n      condition={() => hasOrgUserPermission(\"org:job_listings:change_status\")}\r\n    >\r\n      {isFeatured ? (\r\n        button\r\n      ) : (\r\n        <AsyncIf\r\n          condition={async () => {\r\n            const isMaxed = await hasReachedMaxFeaturedJobListings()\r\n            return !isMaxed\r\n          }}\r\n          otherwise={\r\n            <UpgradePopover\r\n              buttonText={featuredToggleButtonText(isFeatured)}\r\n              popoverText=\"You must upgrade your plan to feature more job listings.\"\r\n            />\r\n          }\r\n        >\r\n          {button}\r\n        </AsyncIf>\r\n      )}\r\n    </AsyncIf>\r\n  )\r\n}\r\n\r\nfunction UpgradePopover({\r\n  buttonText,\r\n  popoverText,\r\n}: {\r\n  buttonText: ReactNode\r\n  popoverText: ReactNode\r\n}) {\r\n  return (\r\n    <Popover>\r\n      <PopoverTrigger asChild>\r\n        <Button variant=\"outline\">{buttonText}</Button>\r\n      </PopoverTrigger>\r\n      <PopoverContent className=\"flex flex-col gap-2\">\r\n        {popoverText}\r\n        <Button asChild>\r\n          <Link href=\"/employer/pricing\">Upgrade Plan</Link>\r\n        </Button>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nfunction statusToggleButtonText(status: JobListingStatus) {\r\n  switch (status) {\r\n    case \"delisted\":\r\n    case \"draft\":\r\n      return (\r\n        <>\r\n          <EyeIcon className=\"size-4\" />\r\n          Publish\r\n        </>\r\n      )\r\n    case \"published\":\r\n      return (\r\n        <>\r\n          <EyeOffIcon className=\"size-4\" />\r\n          Delist\r\n        </>\r\n      )\r\n    default:\r\n      throw new Error(`Unknown status: ${status satisfies never}`)\r\n  }\r\n}\r\n\r\nfunction featuredToggleButtonText(isFeatured: boolean) {\r\n  if (isFeatured) {\r\n    return (\r\n      <>\r\n        <StarOffIcon className=\"size-4\" />\r\n        UnFeature\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StarIcon className=\"size-4\" />\r\n      Feature\r\n    </>\r\n  )\r\n}\r\n\r\nasync function Applications({ jobListingId }: { jobListingId: string }) {\r\n  const applications = await getJobListingApplications(jobListingId)\r\n\r\n  return (\r\n    <ApplicationTable\r\n      applications={applications.map(a => ({\r\n        ...a,\r\n        user: {\r\n          ...a.user,\r\n          resume: a.user.resume\r\n            ? {\r\n                ...a.user.resume,\r\n                markdownSummary: a.user.resume.aiSummary ? (\r\n                  <MarkdownRenderer source={a.user.resume.aiSummary} />\r\n                ) : null,\r\n              }\r\n            : null,\r\n        },\r\n        coverLetterMarkdown: a.coverLetter ? (\r\n          <MarkdownRenderer source={a.coverLetter} />\r\n        ) : null,\r\n      }))}\r\n      canUpdateRating={await hasOrgUserPermission(\r\n        \"org:job_listing_applications:change_rating\"\r\n      )}\r\n      canUpdateStage={await hasOrgUserPermission(\r\n        \"org:job_listing_applications:change_stage\"\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nasync function getJobListingApplications(jobListingId: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingApplicationJobListingTag(jobListingId))\r\n\r\n  const data = await db.query.JobListingApplicationTable.findMany({\r\n    where: eq(JobListingApplicationTable.jobListingId, jobListingId),\r\n    columns: {\r\n      coverLetter: true,\r\n      createdAt: true,\r\n      stage: true,\r\n      rating: true,\r\n      jobListingId: true,\r\n    },\r\n    with: {\r\n      user: {\r\n        columns: {\r\n          id: true,\r\n          name: true,\r\n          imageUrl: true,\r\n        },\r\n        with: {\r\n          resume: {\r\n            columns: {\r\n              resumeFileUrl: true,\r\n              aiSummary: true,\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  })\r\n\r\n  data.forEach(({ user }) => {\r\n    cacheTag(getUserIdTag(user.id))\r\n    cacheTag(getUserResumeIdTag(user.id))\r\n  })\r\n\r\n  return data\r\n}\r\n\r\nasync function getJobListing(id: string, orgId: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingIdTag(id))\r\n\r\n  return db.query.JobListingTable.findFirst({\r\n    where: and(\r\n      eq(JobListingTable.id, id),\r\n      eq(JobListingTable.organizationId, orgId)\r\n    ),\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAKA;AAIA;AACA;AAKA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMe,SAAS,eAAe,KAAY;IACjD,qBACE,8OAAC,qMAAA,CAAA,WAAQ;kBACP,cAAA,8OAAC;YAAe,GAAG,KAAK;;;;;;;;;;;AAG9B;AAEA,eAAe,cAAc,EAAE,MAAM,EAAS;IAC5C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,iJAAA,CAAA,yBAAsB,AAAD;IAC7C,IAAI,SAAS,MAAM,OAAO;IAE1B,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM;IAC/B,MAAM,aAAa,MAAM,cAAc,cAAc;IACrD,IAAI,cAAc,MAAM,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IAEtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CACX,WAAW,KAAK;;;;;;0CAEnB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;kDAAE,CAAA,GAAA,mJAAA,CAAA,yBAAsB,AAAD,EAAE,WAAW,MAAM;;;;;;kDAChD,8OAAC,iKAAA,CAAA,mBAAgB;wCAAC,YAAY;;;;;;;;;;;;;;;;;;kCAGlC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6HAAA,CAAA,UAAO;gCACN,WAAW,IAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EAAE;0CAEtC,cAAA,8OAAC,kIAAA,CAAA,SAAM;oCAAC,OAAO;oCAAC,SAAQ;8CACtB,cAAA,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,uBAAuB,EAAE,WAAW,EAAE,CAAC,KAAK,CAAC;;0DACxD,8OAAC,+MAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;4CAAW;;;;;;;;;;;;;;;;;0CAKrC,8OAAC;gCAAmB,QAAQ,WAAW,MAAM;gCAAE,IAAI,WAAW,EAAE;;;;;;4BAC/D,WAAW,MAAM,KAAK,6BACrB,8OAAC;gCACC,YAAY,WAAW,UAAU;gCACjC,IAAI,WAAW,EAAE;;;;;;0CAGrB,8OAAC,6HAAA,CAAA,UAAO;gCACN,WAAW,IAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EAAE;0CAEtC,cAAA,8OAAC,kIAAA,CAAA,eAAY;oCACX,SAAQ;oCACR,QAAQ,oJAAA,CAAA,mBAAgB,CAAC,IAAI,CAAC,MAAM,WAAW,EAAE;oCACjD,iBAAiB;;sDAEjB,8OAAC,8MAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;wCAAW;;;;;;;;;;;;;;;;;;;;;;;;0BAOzC,8OAAC,iJAAA,CAAA,kBAAe;gBACd,8BAAgB,8OAAC,kJAAA,CAAA,mBAAgB;oBAAC,QAAQ,WAAW,WAAW;;;;;;gBAChE,4BACE,8OAAC,kJAAA,CAAA,mBAAgB;oBACf,WAAU;oBACV,QAAQ,WAAW,WAAW;;;;;;gBAGlC,aAAY;;;;;;0BAGd,8OAAC,qIAAA,CAAA,YAAS;;;;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC,qMAAA,CAAA,WAAQ;wBAAC,wBAAU,8OAAC,4KAAA,CAAA,2BAAwB;;;;;kCAC3C,cAAA,8OAAC;4BAAa,cAAc;;;;;;;;;;;;;;;;;;;;;;;AAKtC;AAEA,SAAS,mBAAmB,EAC1B,MAAM,EACN,EAAE,EAIH;IACC,MAAM,uBACJ,8OAAC,kIAAA,CAAA,eAAY;QACX,QAAQ,oJAAA,CAAA,yBAAsB,CAAC,IAAI,CAAC,MAAM;QAC1C,SAAQ;QACR,mBAAmB,CAAA,GAAA,8IAAA,CAAA,0BAAuB,AAAD,EAAE,YAAY;QACvD,uBAAsB;kBAErB,uBAAuB;;;;;;IAI5B,qBACE,8OAAC,6HAAA,CAAA,UAAO;QACN,WAAW,IAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EAAE;kBAErC,CAAA,GAAA,8IAAA,CAAA,0BAAuB,AAAD,EAAE,YAAY,4BACnC,8OAAC,6HAAA,CAAA,UAAO;YACN,WAAW;gBACT,MAAM,UAAU,MAAM,CAAA,GAAA,2JAAA,CAAA,oCAAiC,AAAD;gBACtD,OAAO,CAAC;YACV;YACA,yBACE,8OAAC;gBACC,YAAY,uBAAuB;gBACnC,aAAY;;;;;;sBAIf;;;;;mBAGH;;;;;;AAIR;AAEA,SAAS,qBAAqB,EAC5B,UAAU,EACV,EAAE,EAIH;IACC,MAAM,uBACJ,8OAAC,kIAAA,CAAA,eAAY;QACX,QAAQ,oJAAA,CAAA,2BAAwB,CAAC,IAAI,CAAC,MAAM;QAC5C,SAAQ;kBAEP,yBAAyB;;;;;;IAI9B,qBACE,8OAAC,6HAAA,CAAA,UAAO;QACN,WAAW,IAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EAAE;kBAErC,aACC,uBAEA,8OAAC,6HAAA,CAAA,UAAO;YACN,WAAW;gBACT,MAAM,UAAU,MAAM,CAAA,GAAA,2JAAA,CAAA,mCAAgC,AAAD;gBACrD,OAAO,CAAC;YACV;YACA,yBACE,8OAAC;gBACC,YAAY,yBAAyB;gBACrC,aAAY;;;;;;sBAIf;;;;;;;;;;;AAKX;AAEA,SAAS,eAAe,EACtB,UAAU,EACV,WAAW,EAIZ;IACC,qBACE,8OAAC,mIAAA,CAAA,UAAO;;0BACN,8OAAC,mIAAA,CAAA,iBAAc;gBAAC,OAAO;0BACrB,cAAA,8OAAC,kIAAA,CAAA,SAAM;oBAAC,SAAQ;8BAAW;;;;;;;;;;;0BAE7B,8OAAC,mIAAA,CAAA,iBAAc;gBAAC,WAAU;;oBACvB;kCACD,8OAAC,kIAAA,CAAA,SAAM;wBAAC,OAAO;kCACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAoB;;;;;;;;;;;;;;;;;;;;;;;AAKzC;AAEA,SAAS,uBAAuB,MAAwB;IACtD,OAAQ;QACN,KAAK;QACL,KAAK;YACH,qBACE;;kCACE,8OAAC,oMAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;oBAAW;;;QAIpC,KAAK;YACH,qBACE;;kCACE,8OAAC,8MAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBAAW;;;QAIvC;YACE,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,QAAwB;IAC/D;AACF;AAEA,SAAS,yBAAyB,UAAmB;IACnD,IAAI,YAAY;QACd,qBACE;;8BACE,8OAAC,gNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;gBAAW;;;IAIxC;IAEA,qBACE;;0BACE,8OAAC,sMAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;YAAW;;;AAIrC;AAEA,eAAe,aAAa,EAAE,YAAY,EAA4B;IACpE,MAAM,eAAe,MAAM,0BAA0B;IAErD,qBACE,8OAAC,4KAAA,CAAA,mBAAgB;QACf,cAAc,aAAa,GAAG,CAAC,CAAA,IAAK,CAAC;gBACnC,GAAG,CAAC;gBACJ,MAAM;oBACJ,GAAG,EAAE,IAAI;oBACT,QAAQ,EAAE,IAAI,CAAC,MAAM,GACjB;wBACE,GAAG,EAAE,IAAI,CAAC,MAAM;wBAChB,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,iBACtC,8OAAC,kJAAA,CAAA,mBAAgB;4BAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS;;;;;qCAC/C;oBACN,IACA;gBACN;gBACA,qBAAqB,EAAE,WAAW,iBAChC,8OAAC,kJAAA,CAAA,mBAAgB;oBAAC,QAAQ,EAAE,WAAW;;;;;6BACrC;YACN,CAAC;QACD,iBAAiB,MAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EACxC;QAEF,gBAAgB,MAAM,CAAA,GAAA,qJAAA,CAAA,uBAAoB,AAAD,EACvC;;;;;;AAIR;IAEA,6SAAA,eAAe,0BAA0B,YAAoB;IAE3D,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,kLAAA,CAAA,wCAAqC,AAAD,EAAE;IAE/C,MAAM,OAAO,MAAM,oHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,0BAA0B,CAAC,QAAQ,CAAC;QAC9D,OAAO,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,iJAAA,CAAA,6BAA0B,CAAC,YAAY,EAAE;QACnD,SAAS;YACP,aAAa;YACb,WAAW;YACX,OAAO;YACP,QAAQ;YACR,cAAc;QAChB;QACA,MAAM;YACJ,MAAM;gBACJ,SAAS;oBACP,IAAI;oBACJ,MAAM;oBACN,UAAU;gBACZ;gBACA,MAAM;oBACJ,QAAQ;wBACN,SAAS;4BACP,eAAe;4BACf,WAAW;wBACb;oBACF;gBACF;YACF;QACF;IACF;IAEA,KAAK,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE;QACpB,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,gJAAA,CAAA,eAAY,AAAD,EAAE,KAAK,EAAE;QAC7B,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE,KAAK,EAAE;IACrC;IAEA,OAAO;AACT;;;;;IAtCe,4BAAf;IAwCA,6SAAA,eAAe,cAAc,EAAU,EAAE,KAAa;IAEpD,CAAA,GAAA,sKAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,4JAAA,CAAA,qBAAkB,AAAD,EAAE;IAE5B,OAAO,oHAAA,CAAA,KAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;QACxC,OAAO,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACP,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,EAAE,EAAE,KACvB,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,sIAAA,CAAA,kBAAe,CAAC,cAAc,EAAE;IAEvC;AACF;;;;;IAVe,gBAAf","debugId":null}},
    {"offset": {"line": 1624, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/actions/schemas.ts"],"sourcesContent":["import { z } from \"zod\"\r\n\r\nexport const newJobListingApplicationSchema = z.object({\r\n  coverLetter: z\r\n    .string()\r\n    .transform(val => (val.trim() === \"\" ? null : val))\r\n    .nullable(),\r\n})\r\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEO,MAAM,iCAAiC,iLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrD,aAAa,iLAAA,CAAA,IAAC,CACX,MAAM,GACN,SAAS,CAAC,CAAA,MAAQ,IAAI,IAAI,OAAO,KAAK,OAAO,KAC7C,QAAQ;AACb","debugId":null}},
    {"offset": {"line": 1639, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/db/jobListingsApplications.ts"],"sourcesContent":["import { db } from \"@/drizzle/db\"\r\nimport { JobListingApplicationTable } from \"@/drizzle/schema\"\r\nimport { revalidateJobListingApplicationCache } from \"./cache/jobListingApplications\"\r\nimport { and, eq } from \"drizzle-orm\"\r\n\r\nexport async function insertJobListingApplication(\r\n  application: typeof JobListingApplicationTable.$inferInsert\r\n) {\r\n  await db.insert(JobListingApplicationTable).values(application)\r\n\r\n  revalidateJobListingApplicationCache(application)\r\n}\r\n\r\nexport async function updateJobListingApplication(\r\n  {\r\n    jobListingId,\r\n    userId,\r\n  }: {\r\n    jobListingId: string\r\n    userId: string\r\n  },\r\n  data: Partial<typeof JobListingApplicationTable.$inferInsert>\r\n) {\r\n  await db\r\n    .update(JobListingApplicationTable)\r\n    .set(data)\r\n    .where(\r\n      and(\r\n        eq(JobListingApplicationTable.jobListingId, jobListingId),\r\n        eq(JobListingApplicationTable.userId, userId)\r\n      )\r\n    )\r\n\r\n  revalidateJobListingApplicationCache({ jobListingId, userId })\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,4BACpB,WAA2D;IAE3D,MAAM,oHAAA,CAAA,KAAE,CAAC,MAAM,CAAC,iJAAA,CAAA,6BAA0B,EAAE,MAAM,CAAC;IAEnD,CAAA,GAAA,kLAAA,CAAA,uCAAoC,AAAD,EAAE;AACvC;AAEO,eAAe,4BACpB,EACE,YAAY,EACZ,MAAM,EAIP,EACD,IAA6D;IAE7D,MAAM,oHAAA,CAAA,KAAE,CACL,MAAM,CAAC,iJAAA,CAAA,6BAA0B,EACjC,GAAG,CAAC,MACJ,KAAK,CACJ,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,iJAAA,CAAA,6BAA0B,CAAC,YAAY,EAAE,eAC5C,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,iJAAA,CAAA,6BAA0B,CAAC,MAAM,EAAE;IAI5C,CAAA,GAAA,kLAAA,CAAA,uCAAoC,AAAD,EAAE;QAAE;QAAc;IAAO;AAC9D","debugId":null}},
    {"offset": {"line": 1674, "column": 0}, "map": {"version":3,"sources":["file:///F:/WebDevSimplified/job-board-ai/src/features/jobListingApplications/actions/actions.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { db } from \"@/drizzle/db\"\r\nimport {\r\n  ApplicationStage,\r\n  applicationStages,\r\n  JobListingTable,\r\n  UserResumeTable,\r\n} from \"@/drizzle/schema\"\r\nimport { getJobListingIdTag } from \"@/features/jobListings/db/cache/jobListings\"\r\nimport { getUserResumeIdTag } from \"@/features/users/db/cache/userResumes\"\r\nimport {\r\n  getCurrentOrganization,\r\n  getCurrentUser,\r\n} from \"@/services/clerk/lib/getCurrentAuth\"\r\nimport { and, eq } from \"drizzle-orm\"\r\nimport { cacheTag } from \"next/dist/server/use-cache/cache-tag\"\r\nimport { z } from \"zod\"\r\nimport { newJobListingApplicationSchema } from \"./schemas\"\r\nimport {\r\n  insertJobListingApplication,\r\n  updateJobListingApplication,\r\n} from \"../db/jobListingsApplications\"\r\nimport { inngest } from \"@/services/inngest/client\"\r\nimport { hasOrgUserPermission } from \"@/services/clerk/lib/orgUserPermissions\"\r\n\r\nexport async function createJobListingApplication(\r\n  jobListingId: string,\r\n  unsafeData: z.infer<typeof newJobListingApplicationSchema>\r\n) {\r\n  const permissionError = {\r\n    error: true,\r\n    message: \"You don't have permission to submit an application\",\r\n  }\r\n  const { userId } = await getCurrentUser()\r\n  if (userId == null) return permissionError\r\n\r\n  const [userResume, jobListing] = await Promise.all([\r\n    getUserResume(userId),\r\n    getPublicJobListing(jobListingId),\r\n  ])\r\n  if (userResume == null || jobListing == null) return permissionError\r\n\r\n  const { success, data } = newJobListingApplicationSchema.safeParse(unsafeData)\r\n\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"There was an error submitting your application\",\r\n    }\r\n  }\r\n\r\n  await insertJobListingApplication({\r\n    jobListingId,\r\n    userId,\r\n    ...data,\r\n  })\r\n\r\n  await inngest.send({\r\n    name: \"app/jobListingApplication.created\",\r\n    data: { jobListingId, userId },\r\n  })\r\n\r\n  return {\r\n    error: false,\r\n    message: \"Your application was successfully submitted\",\r\n  }\r\n}\r\n\r\nexport async function updateJobListingApplicationStage(\r\n  {\r\n    jobListingId,\r\n    userId,\r\n  }: {\r\n    jobListingId: string\r\n    userId: string\r\n  },\r\n  unsafeStage: ApplicationStage\r\n) {\r\n  const { success, data: stage } = z\r\n    .enum(applicationStages)\r\n    .safeParse(unsafeStage)\r\n\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"Invalid stage\",\r\n    }\r\n  }\r\n\r\n  if (\r\n    !(await hasOrgUserPermission(\"org:job_listing_applications:change_stage\"))\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to update the stage\",\r\n    }\r\n  }\r\n\r\n  const { orgId } = await getCurrentOrganization()\r\n  const jobListing = await getJobListing(jobListingId)\r\n  if (\r\n    orgId == null ||\r\n    jobListing == null ||\r\n    orgId !== jobListing.organizationId\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to update the stage\",\r\n    }\r\n  }\r\n\r\n  await updateJobListingApplication(\r\n    {\r\n      jobListingId,\r\n      userId,\r\n    },\r\n    { stage }\r\n  )\r\n}\r\n\r\nexport async function updateJobListingApplicationRating(\r\n  {\r\n    jobListingId,\r\n    userId,\r\n  }: {\r\n    jobListingId: string\r\n    userId: string\r\n  },\r\n  unsafeRating: number | null\r\n) {\r\n  const { success, data: rating } = z\r\n    .number()\r\n    .min(1)\r\n    .max(5)\r\n    .nullish()\r\n    .safeParse(unsafeRating)\r\n\r\n  if (!success) {\r\n    return {\r\n      error: true,\r\n      message: \"Invalid rating\",\r\n    }\r\n  }\r\n\r\n  if (\r\n    !(await hasOrgUserPermission(\"org:job_listing_applications:change_rating\"))\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to update the rating\",\r\n    }\r\n  }\r\n\r\n  const { orgId } = await getCurrentOrganization()\r\n  const jobListing = await getJobListing(jobListingId)\r\n  if (\r\n    orgId == null ||\r\n    jobListing == null ||\r\n    orgId !== jobListing.organizationId\r\n  ) {\r\n    return {\r\n      error: true,\r\n      message: \"You don't have permission to update the rating\",\r\n    }\r\n  }\r\n\r\n  await updateJobListingApplication(\r\n    {\r\n      jobListingId,\r\n      userId,\r\n    },\r\n    { rating }\r\n  )\r\n}\r\n\r\nasync function getPublicJobListing(id: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingIdTag(id))\r\n\r\n  return db.query.JobListingTable.findFirst({\r\n    where: and(\r\n      eq(JobListingTable.id, id),\r\n      eq(JobListingTable.status, \"published\")\r\n    ),\r\n    columns: { id: true },\r\n  })\r\n}\r\n\r\nasync function getJobListing(id: string) {\r\n  \"use cache\"\r\n  cacheTag(getJobListingIdTag(id))\r\n\r\n  return db.query.JobListingTable.findFirst({\r\n    where: eq(JobListingTable.id, id),\r\n    columns: { organizationId: true },\r\n  })\r\n}\r\n\r\nasync function getUserResume(userId: string) {\r\n  \"use cache\"\r\n  cacheTag(getUserResumeIdTag(userId))\r\n\r\n  return db.query.UserResumeTable.findFirst({\r\n    where: eq(UserResumeTable.userId, userId),\r\n    columns: { userId: true },\r\n  })\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}